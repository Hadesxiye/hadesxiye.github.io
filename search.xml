<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Swift4.2å…‰é€Ÿå…¥é—¨Ù©(à¹‘>â—¡]]></title>
    <url>%2F2018%2F11%2F26%2FSwift%2F</url>
    <content type="text"><![CDATA[Xcode10å‘å¸ƒäº†ï¼Œæ”¯æŒswift3å’Œswift4ï¼Œä½¿ç”¨swiftå¼€å‘çš„é¡¹ç›®ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚æ˜¯æ—¶å€™å­¦swiftäº†ï¼Œä¸€èµ·æ¥å…‰é€Ÿå…¥é—¨å§~ ç‰ˆæœ¬å…¼å®¹æ€§swifté‡‡ç”¨äº†çŽ°ä»£ç¼–ç¨‹æ¨¡å¼ï¼Œä»¥é¿å…å¤§é‡å¸¸è§çš„ä½Žçº§ç¼–ç¨‹é”™è¯¯ï¼š å˜é‡æ°¸è¿œä¼šåœ¨è¢«ä½¿ç”¨å‰å®Œæˆåˆå§‹åŒ– å¯¹æ•°ç»„çš„ç´¢å¼•æ“ä½œä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦å‡ºçŽ°è¶Šç•Œé”™è¯¯ æ•´åž‹æ•°å€¼ä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦æº¢å‡º å¯é€‰å€¼ç¡®ä¿nilå€¼è¢«æ­£ç¡®å¤„ç† å†…å­˜è¢«è‡ªåŠ¨ç®¡ç† é”™è¯¯å¤„ç†å…è®¸ä»Žå¼‚å¸¸æ•…éšœæŽ§åˆ¶æ¢å¤ å½“swift4.2ç¼–è¯‘å™¨ç¼–è¯‘swift3çš„ä»£ç æ—¶ï¼Œswift 4 å¤§éƒ¨åˆ†æ–°åŠŸèƒ½æ˜¯å¯ç”¨çš„ï¼Œåªæœ‰å¦‚ä¸‹åŠŸèƒ½swift 4 ç‹¬äº«ï¼š å­å­—ç¬¦ä¸²çš„æ“ä½œè¿”å›žçš„å®žä¾‹æ˜¯Substringç±»åž‹è€Œä¸æ˜¯String åœ¨è¾ƒå°‘çš„åœ°æ–¹ä¼šéšæ€§å¢žåŠ @objcå±žæ€§ åŒä¸€æ–‡ä»¶ä¸­ç±»åž‹çš„æ‹“å±•å¯ä»¥è®¿é—®è¯¥ç±»åž‹ä¸­çš„ç§æœ‰æˆå‘˜ æ¦‚è¿°é¦–å…ˆï¼Œä»Žhello worldå¼€å§‹ç”¨swiftå®žçŽ°å¯å¤ªtmç®€å•äº†ç”¨xcodeåˆ›å»ºä¸€ä¸ªswift blanké¡¹ç›®ï¼Œåœ¨playgroundä¸­è¾“å…¥ä¸€å¥è¯1print("hello world!") å…¨å±€ä½œç”¨åŸŸä¸­çš„ä»£ç ä¼šè‡ªåŠ¨ä½œä¸ºç¨‹åºçš„å…¥å£ï¼Œå› æ­¤ï¼›ä¸éœ€è¦main()å‡½æ•°ï¼ŒåŒæ ·çš„ï¼Œä½ ä¹Ÿä¸éœ€è¦å†™;äº†ã€‚ ç®€å•å€¼ leiå£°æ˜Žå¸¸é‡varå£°æ˜Žå˜é‡ 123var num = 1num = 2let number = 3 swiftä¸éœ€è¦åœ¨å£°æ˜Žæ—¶å£°æ˜Žç±»åž‹ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®ä½ åˆ›å»ºçš„å˜é‡æˆ–è€…å¸¸é‡çš„åˆå§‹å€¼è¿›è¡Œç±»åž‹æŽ¨æ–­ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œnumæ˜¯ä¸ªæ•´æ•°ï¼Œå› ä¸ºå®ƒçš„åˆå§‹å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚ å¦‚æžœæ²¡æœ‰åˆå§‹å€¼ï¼Œä½ åˆæƒ³å£°æ˜Žç±»åž‹ï¼Œä½ åªè¦åœ¨å˜é‡åŽå£°æ˜Žç±»åž‹ï¼Œç”¨:åˆ†å‰²ã€‚ 1let num3:Double = 1 swiftæœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼è®©å€¼è½¬ä¸ºå­—ç¬¦ä¸²ï¼šæŠŠå€¼å†™åœ¨()å†…ï¼Œåœ¨æ‹¬å·ä¹‹å‰å†åŠ ä¸€ä¸ª\1234567let str = "girlfriend"let sum1 = 1let sum2 = 0print("I used to have \(sum1) \(str)")print("and now I have \(sum1*sum2) \(str)")print("pretty girl check your wechat number and send it to me pls:)") å¯¹äºŽå ç”¨å¤šè¡Œçš„å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªå¼•å·&quot;&quot;&quot;æ¯è¡Œçš„æ¥å¤´ç¼©è¿›è¦å’Œå³å¼•å·çš„ç¼©è¿›ç›¸åŒ12345let string = """hello~this my wechat number"""print(string) ä½¿ç”¨[]æ¥åˆ›å»ºæ•°ç»„å’Œå­—å…¸ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸‹æ ‡æˆ–è€…é”®æ¥è®¿é—®å®ƒä»¬çš„å…ƒç´ ã€‚å…¶ä¸­æœ€åŽä¸€ä¸ªå…ƒç´ åŽé¢å…è®¸æœ‰é€—å·12345678var arr = ["my","name","is","hades"]arr[3] = "whz"var dic = [ "key1":"value1", "key2":"valeu2"]dic["key2"] = "value change" ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„æˆ–è€…å­—å…¸12let emptyArr = [String]()let emptyDic = [String:String]() å¦‚æžœç±»åž‹èƒ½è¢«æŽ¨æ–­ï¼Œåˆ™å¯ä»¥æ›´ç®€å•ï¼Œå°±åƒä½ ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ä¸€æ ·ï¼ˆä½†æ³¨æ„ï¼Œä¸èƒ½æŽ¨æ–­ç±»åž‹çš„æ—¶å€™ä¸èƒ½è¿™ä¹ˆä½¿ç”¨ï¼Œå³ä¸èƒ½ç”¨è¿™ç§æ–¹å¼å£°æ˜Žä¸€ä¸ªç©ºæ•°ç»„æˆ–è€…å­—å…¸ä»¥ä¾›åŽé¢ä½¿ç”¨ï¼‰12arr = []dic = [:] æŽ§åˆ¶æµ ä½¿ç”¨ifå’Œswitchæ¥åˆ›å»ºæ¡ä»¶è¯­å¥ï¼Œä½¿ç”¨for-in,whileï¼Œä»¥åŠrepeat-whileæ¥åˆ›å»ºå¾ªçŽ¯è¯­å¥ã€‚åŒ…è£¹æ¡ä»¶æˆ–è€…å¾ªçŽ¯å˜é‡çš„æ‹¬å·æ˜¯å¯é€‰çš„ã€‚ä½†è¯­å¥ä½“çš„å¤§æ‹¬å·æ˜¯å¿…ä¸å¯ç¼ºçš„ã€‚123456789101112let numArr = [123,13,4,13,43,65]var totalNum = 0for tempNum in numArr &#123; if tempNum &lt; 50 &#123; totalNum -= 1 &#125; else&#123; totalNum += 1 &#125; print(totalNum)&#125;print("end of totalnum = \(totalNum)") åœ¨ifè¯­å¥ä¸­ï¼Œæ¡ä»¶è¯­å¥å¿…é¡»æ˜¯å¸ƒå°”è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨ifå’Œletæ¥å¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µã€‚è¿™äº›å€¼ç”±å¯é€‰å€¼æ¥ä»£è¡¨ã€‚å¯é€‰å€¼è¦ä¹ˆåŒ…å«ä¸€ä¸ªå€¼ï¼Œè¦ä¹ˆä¸ºnilè¡¨ç¤ºå€¼ç¼ºå¤±ã€‚åœ¨å€¼å¾—ç±»åž‹åŽé¢è·Ÿéšä¸€ä¸ª?åˆ™è¡¨ç¤ºè¿™ä¸ªå€¼æ˜¯å¯é€‰çš„ã€‚12345678910111213141516var exampleStr:String? = "hello"print(exampleStr == nil)var name:String? = "hades"var greeting = "hello~"//name = "xiye"//name = nilif let nameTemp = name &#123; //å¦‚æžœç±»åž‹è½¬æ¢æˆåŠŸï¼Œåˆ™å°†å€¼èµ‹å€¼ç»™nameTempç›´æŽ¥ä½¿ç”¨ greeting = "hello~ \(nameTemp)" print("nameTemp = \(nameTemp) name = \(name!)") print("( let nameTemp = name ) = true");&#125;else&#123; print("name = nil ") //å¼ºåˆ¶è§£æžname ä¼šæŠ¥é”™ nameTemp åœ¨è¿™é‡Œæ˜¯æ²¡æ³•ä½¿ç”¨çš„ å› ä¸ºé€»è¾‘ä¸Šåªæœ‰æ˜¯nilæ—¶æ‰ä¼šèµ°è¿™éƒ¨åˆ†ä»£ç ï¼Œåœ¨swiftä¸­æ˜¯ä»€ä¹ˆå€¼éƒ½æ²¡æœ‰ print("( let nameTemp = name ) = false");&#125; å¦‚æžœå¯é€‰å€¼ä¸ºnilï¼Œæ¡ä»¶è¯­å¥å°±ä¸ºfalseï¼Œåˆ™å¤§æ‹¬å·ä¸­çš„ä»£ç ä¼šè¢«è·³è¿‡ï¼Œå¦åˆ™å¯é€‰å€¼å°†è¢«è§£åŒ…ï¼Œå¹¶èµ‹å€¼ç»™letåŽçš„å¸¸é‡ï¼Œè¿™æ ·ä»£ç ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼ã€‚ å¤„ç†å¯é€‰å€¼å¾—å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨??æ“ä½œç¬¦æ¥æä¾›é»˜è®¤å€¼ã€‚å¦‚æžœç¼ºå°‘å¯é€‰å€¼ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼ˆå¦‚æžœæœ‰èµ‹å€¼ï¼Œä¹Ÿä¸ä¼šä½¿ç”¨æä¾›çš„é»˜è®¤å€¼ï¼Œå¦‚æžœè®¾ç½®äº†å¯é€‰ç±»åž‹ï¼Œä½†åŽé¢è¢«è®¾ç½®æˆnilï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼‰ã€‚ 1234567var nickName: String? = nil //"whz"let fullName: String = "hades"//nickName = "whz"//nickName = nillet informalGreeting = "hi~ \(nickName ?? fullName)"print(informalGreeting) ocä¸­çš„nilå’Œswiftä¸­çš„nilObjective-Cä¸­çš„nil:è¡¨ç¤ºç¼ºå°‘ä¸€ä¸ªåˆæ³•çš„å¯¹è±¡ï¼Œæ˜¯æŒ‡å‘ä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¯¹ç»“æž„ä½“ã€æžšä¸¾ç­‰ç±»åž‹ä¸èµ·ä½œç”¨(ä¼šè¿”å›žNSNotFound)Swiftä¸­çš„nil:è¡¨ç¤ºä»»æ„ç±»åž‹çš„å€¼ç¼ºå¤±ï¼Œæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œè¦ä¹ˆæ˜¯è¯¥ç±»åž‹çš„ä¸€ä¸ªå€¼è¦ä¹ˆä»€ä¹ˆéƒ½æ²¡æœ‰(å³ä¸ºnil) â€˜Switchâ€™è¯­å¥æ”¯æŒä»»ä½•ç±»åž‹çš„æ•°æ®ä»¥åŠå„ç§å„æ ·çš„æ¯”è¾ƒæ“ä½œâ€”â€”ä¸ä»…ä»…å±€é™äºŽæ•´æ•°å’Œæµ‹è¯•ç›¸ç­‰ã€‚1234567891011var people = "ex"switch people &#123;case "girl": print("hey~ could you give me your wechat number?")case "man","boy": print("oh...next pls")case let x where x.hasSuffix("x")://hasSuffixä»¥æŒ‡å®šåŽç¼€ç»“æŸï¼ŒhasPrefixä»¥æŒ‡å®šå‰ç¼€å¼€å§‹ print("if time can come back...")default: print("hello stranger.")&#125; åœ¨swiftä¸­ï¼Œä½¿ç”¨switchè¯­å¥ï¼Œåœ¨æ‰§è¡Œå®ŒcaseåŽä¸éœ€è¦æ˜¾ç¤ºçš„æ·»åŠ breakï¼Œç¨‹åºä¼šè‡ªåŠ¨æ‰§è¡Œå®Œä¸€ä¸ªcaseè·³å‡ºã€‚ä½ å¯ä»¥ä¸ºå­—å…¸ä¸­çš„é”®å€¼å¯¹èµ·ä¸€ç»„åå­—ï¼Œå¹¶ç”¨for inè¯­å¥æ¥éåŽ†å­—å…¸ã€‚ç”±äºŽå­—å…¸æ˜¯æ— åºçš„ï¼Œæ‰€ä»¥å®ƒçš„éåŽ†ä¹Ÿæ˜¯æ— åºçš„ã€‚1234567891011121314151617let someNumbers = [ "key1":[2,4,1,5,31], "key2":[2,43,2,5,1,53], "key3":[2345,13,1,3,13,65]]var maxNum = 0;var maxName:String = ""for (keyInSomeNumbers,valueInSomeNumbers) in someNumbers &#123; for values in valueInSomeNumbers &#123; if values &gt; maxNum &#123; maxNum = values maxName = "\(keyInSomeNumbers)" &#125; &#125;&#125;print("\(maxName) \(maxNum)") ä½¿ç”¨whileæ¥å¾ªçŽ¯æ‰§è¡Œä»£ç 12345678910111213var n = 0while n &lt; 100 &#123; n = n*n + 1&#125;print(n)var m = 0repeat&#123; m = m + 1 print("m = \(m)")&#125;while m &lt; 10print(m) å¯ä»¥ä½¿ç”¨..&lt;æ¥é™å®šç´¢å¼•èŒƒå›´ï¼Œå¹¶åœ¨å¾ªçŽ¯ä¸­éåŽ†è¯¥ç´¢å¼•èŒƒå›´12345var total = 0for i in 1..&lt;4 &#123; total += i&#125;print(total) å‡½æ•°å’Œé—­åŒ…ä½¿ç”¨funcæ¥å£°æ˜Žä¸€ä¸ªå‡½æ•°ã€‚ä½¿ç”¨å‡½æ•°åå’Œå‚æ•°åæ¥è°ƒç”¨å‡½æ•°ã€‚ä½¿ç”¨-&gt;æ¥æŒ‡å®šå‡½æ•°è¿”å›žå€¼ç±»åž‹ã€‚1234func greet (person:String,day:String)-&gt; String&#123; return "Hello \(person),today is \(day)"&#125;print(greet(person: "whz", day: "thuesday")) é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°ä¼šä½¿ç”¨å®ƒä»¬çš„å‚æ•°åç§°ä½œä¸ºå‚æ•°æ ‡ç­¾ï¼Œåœ¨å‚æ•°åç§°å‰å¯ä»¥è‡ªå®šä¹‰å‚æ•°æ ‡ç­¾ï¼Œæˆ–ä½¿ç”¨_æ¥è¡¨ç¤ºæ¥ä¸ä½¿ç”¨å‚æ•°æ ‡ç­¾ã€‚1234func greet(_ preson:String,on day:String)-&gt; String&#123; return "hello \(preson),today is \(day)"&#125;print(greet("hades", on: "friday")) ä½¿ç”¨å…ƒç»„æ¥ç”Ÿæˆå¤åˆå€¼ï¼Œä¾‹å¦‚ä½¿ç”¨å…ƒç»„æ¥è®©ä¸€ä¸ªå‡½æ•°è¿”å›žå¤šä¸ªå€¼ã€‚è¯¥å…ƒç»„çš„å…ƒç´ å¯ä»¥é€šè¿‡åç§°æˆ–è€…æ•°å­—æ¥èŽ·å–ã€‚1234567891011121314151617181920func function(scores:[Int]) -&gt; (min:Int,max:Int,sum:Int)&#123; var min = scores[0] var max = scores[0] var sum = 0 for score in scores &#123; if score &gt; max &#123; max = score &#125; else&#123; min = score &#125; sum = sum + score &#125; return (min,max,sum)&#125;let result = function(scores: [1,31,413,356,1,376,463])print(result.max)print(result)print(result.2) å‡½æ•°é—´å¯ç›¸äº’åµŒå¥—ã€‚è¢«åµŒå¥—çš„å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°ä¸­å£°æ˜Žçš„å˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨åµŒå¥—å‡½æ•°æ¥é‡æž„ä¸€ä¸ªè¿‡äºŽå†—é•¿æˆ–è€…å¤æ‚çš„å‡½æ•°ã€‚123456789func returnFifteen()-&gt; Int &#123; var x = 10 func add()&#123; x += 5 &#125; add() return x&#125;print(returnFifteen()) å‡½æ•°æ˜¯ä¸€ä¸ªç±»åž‹ã€‚æ„å‘³ç€å‡½æ•°å¯ä»¥ä½œä¸ºå…¶ä»–å‡½æ•°çš„è¿”å›žå€¼ã€‚12345678func returnOneFunction() -&gt; ((Int) -&gt; Int)&#123; func returnOneInt(number:Int) -&gt; Int&#123; return number + 1 &#125; return returnOneInt&#125;var anotherFunction = returnOneFunction()print(anotherFunction(3)) ä¸€ä¸ªå‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°1234567891011121314func hasAnyMatches(list:[Int],condition:(Int)-&gt;Bool) -&gt; Bool &#123; for item in list &#123; if condition(item) &#123; print(item) return true &#125; &#125; return false&#125;func lessThanTen(number: Int) -&gt; Bool &#123; return number &lt; 10&#125;var numbers = [20,19,7,12]hasAnyMatches(list: numbers, condition: lessThanTen) å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„é—­åŒ…ï¼šå®ƒæ˜¯å¯ä»¥åœ¨ä¹‹åŽè¢«è°ƒç”¨çš„ä¸€æ®µä»£ç ã€‚åœ¨é—­åŒ…é‡Œçš„ä»£ç å¯ä»¥è®¿é—®åˆ°é—­åŒ…ä½œç”¨åŸŸèŒƒå›´å†…çš„å˜é‡å’Œå‡½æ•°ï¼Œå³ä½¿é—­åŒ…æ˜¯åœ¨ä¸åŒçš„ä½œç”¨åŸŸè¢«æ‰§è¡Œä½ å¯ä»¥ä½¿ç”¨{}æ¥åˆ›å»ºä¸€ä¸ªåŒ¿åé—­åŒ…ã€‚ä½¿ç”¨inå°†å‚æ•°å’Œè¿”å›žå€¼ç±»åž‹ä¸Žé—­åŒ…å‡½æ•°ä½“åˆ†ç¦»ã€‚12345678var numbers = [20,19,7,12]hasAnyMatches(list: numbers, condition: lessThanTen)numbers.map(&#123; (number: Int) -&gt; Int in let result = 3 * number print(111) return result&#125;) å†™å‡ºæ›´ç®€æ´çš„é—­åŒ…æœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚å½“æˆ‘ä»¬å·²çŸ¥ä¸€ä¸ªé—­åŒ…çš„ç±»åž‹ï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ªä»£ç†çš„å›žè°ƒï¼Œä½ å¯ä»¥å¿½ç•¥å‚æ•°ã€è¿”å›žå€¼ï¼Œç”šè‡³ä¸¤ä¸ªéƒ½å¿½ç•¥ã€‚å•ä¸ªè¯­å¥é—­åŒ…ä¼šæŠŠå®ƒè¯­å¥çš„å€¼å½“åšç»“æžœè¿”å›žã€‚12345var temp = [3,41,5,1,51]let temp1 = temp.map&#123; num in num + 1&#125; swiftè‡ªåŠ¨ä¸ºé—­åŒ…æä¾›å‚æ•°åç¼©å†™åŠŸèƒ½ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡$0å’Œ$1ç­‰æ¥è¡¨ç¤ºé—­åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯¹åº”çš„å‚æ•°ç±»åž‹ä¼šæ ¹æ®å‡½æ•°ç±»åž‹æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå†æ¬¡ç®€å†™1234print(temp1)let temp2 = temp.map&#123; $0 + 1&#125; å¯¹è±¡å’Œç±»é€šè¿‡åœ¨ç±»åå‰åŠ classå…³é”®å­—çš„æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªç±»ã€‚ç±»ä¸­çš„å±žæ€§å£°æ˜Žå’Œå˜é‡çš„å±žæ€§å£°æ˜Žç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œç±»çš„å±žæ€§å£°æ˜Žä¸Šä¸‹æ–‡æ˜¯ç±»ã€‚ç±»ä¼¼çš„ï¼Œæ–¹æ³•å’Œå‡½æ•°ä¹Ÿæ˜¯åŒæ ·æ–¹å¼æ¥å£°æ˜Žã€‚123456class Shape &#123; var numberOfSides = 0 func simpleDescription() -&gt; String &#123; return "A shape with \(numberOfSides) sides" &#125;&#125; é€šè¿‡åœ¨ç±»åç§°åŽé¢æ’å…¥æ‹¬å·æ¥åˆ›å»ºç±»çš„å®žä¾‹ã€‚ä½¿ç”¨.è¯­æ³•çš„æ–¹å¼æ¥è®¿é—®å®žä¾‹ä¸­çš„å±žæ€§å’Œæ–¹æ³•ã€‚1234var shape = Shape()shape.numberOfSides = 9var shapeDescription = shape.simpleDescription()print(shapeDescription) å½“ä¸€ä¸ªç±»çš„å±žæ€§æ²¡æœ‰åˆå§‹å€¼ï¼Œä½ å°±éœ€è¦ä½¿ç”¨initæ¥åˆ›å»ºä¸€ä¸ªæž„é€ å™¨ã€‚1234567891011class NamedShape &#123; var numberOfSides:Int = 0 var name: String init(name: String) &#123; self.name = name &#125; func description() -&gt; String &#123; return "A shape with \(numberOfSides) sides" &#125;&#125; è¿™é‡Œçš„selfè¢«ç”¨æ¥åŒºåˆ†nameå±žæ€§å’Œæž„é€ å™¨çš„nameå‚æ•°ã€‚å½“ä½ åˆ›å»ºç±»å®žä¾‹æ—¶ï¼Œä¼šåƒä¼ å…¥å‚æ•°ä¸€æ ·ï¼Œç»™ç±»ä¼ å…¥æž„é€ å™¨çš„å‚æ•°ã€‚æ¯ä¸ªå±žæ€§éƒ½è¦æŒ‡å®šä¸€ä¸ªå€¼â€” æ— è®ºåœ¨å£°æ˜Žä¸­è¿˜æ˜¯åœ¨æž„é€ å™¨é‡Œã€‚å¦‚æžœä½ éœ€è¦åœ¨å¯¹è±¡è¢«é‡Šæ”¾å‰æ‰§è¡Œä¸€äº›æ¸…ç†çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨deinitæ¥åˆ›å»ºä¸€ä¸ªæŠ˜æž„å™¨ã€‚ å­ç±»ä¼šåœ¨å…¶ç±»ååŽé¢åŠ ä¸Šçˆ¶ç±»çš„åå­—ï¼Œå¹¶ç”¨å†’å·åˆ†å‰²ã€‚åˆ›å»ºç±»çš„æ—¶å€™ï¼Œå¹¶ä¸éœ€è¦ä¸€ä¸ªæ ‡å‡†æ ¹ç±»ï¼Œå› æ­¤ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œæ·»åŠ æˆ–çœç•¥çˆ¶ç±»çš„å£°æ˜Žã€‚ å­ç±»å¦‚æžœéœ€è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œåˆ™éœ€è¦ä½¿ç”¨overrideæ¥æ ‡è®°â€”ä¸ä½¿ç”¨overrideå…³é”®å­—æ¥æ ‡è®°ä¼šå¯¼è‡´ç¼–è¯‘å™¨æŠ¥é”™ã€‚ç¼–è¯‘å™¨åŒæ ·ä¹Ÿä¼šæ£€æŸ¥overrideæ ‡è®°çš„æ–¹æ³•æ˜¯å¦å­˜åœ¨çˆ¶ç±»å½“ä¸­ã€‚1234567891011121314151617181920class Square: NamedShape &#123; var sideLength: Double init(sideLength: Double,name: String) &#123; self.sideLength = sideLength super.init(name: name) numberOfSides = 5 &#125; func area() -&gt; Double &#123; return sideLength * sideLength &#125; override func description() -&gt; String &#123; return "A square with sides of length \(sideLength)" &#125;&#125;let test = Square(sideLength: 4.1, name: "test square")print(test.area())print(test.description()) é™¤äº†å­˜å‚¨ç®€å•çš„å±žæ€§ï¼Œå±žæ€§è¿˜å¯ä»¥æ‹¥æœ‰getterå’Œsetter123456789101112131415161718192021222324252627class EquilaterTriangle: NamedShape &#123; var sideLength: Double = 0.0 init(sideLength: Double,name: String) &#123; self.sideLength = sideLength super.init(name: name) numberOfSides = 3 &#125; var perimeter: Double&#123; get&#123; return 3.0 * sideLength &#125; set&#123; sideLength = newValue / 3.0 &#125; &#125; override func description() -&gt; String &#123; return "this is a triangle with sides of length \(sideLength)" &#125;&#125;var triangle = EquilaterTriangle(sideLength: 4.3, name: "a triangle")print(triangle.perimeter)triangle.perimeter = 9print(triangle.sideLength) åœ¨perimeterçš„setterä¸­ï¼Œæ–°å€¼è¢«éšå¼çš„å‘½åä¸ºnewValueã€‚ä½ å¯ä»¥åœ¨setçš„æ‹¬å·åŽé¢ï¼Œæ˜¾å¼çš„æä¾›ä¸€ä¸ªåå­—ã€‚ æ³¨æ„EquilateralTriangleç±»çš„åˆå§‹åŒ–æœ‰ä¸‰ä¸ªä¸åŒçš„æ­¥éª¤ï¼š 1 è®¾å®šå­ç±»çš„å£°æ˜Žçš„å±žæ€§å€¼ 2 è°ƒç”¨çˆ¶ç±»çš„æž„é€ å™¨ 3 æ”¹å˜çˆ¶ç±»å®šä¹‰çš„å±žæ€§å€¼ã€‚å…¶ä»–çš„å·¥ä½œå¦‚è°ƒç”¨æ–¹æ³•ï¼Œgetteræˆ–è€…setteréƒ½å¯ä»¥åœ¨è¿™ä¸ªæ—¶å€™å®Œæˆã€‚ å¦‚æžœä½ ä¸éœ€è¦è®¡ç®—å±žæ€§ï¼Œä½†æ˜¯ä»éœ€è¦åœ¨è®¾ç½®ä¸€ä¸ªæ–°å€¼ä¹‹å‰æˆ–ä¹‹åŽæ¥æ‰§è¡Œä»£ç ï¼Œåˆ™å¯ä»¥ä½¿ç”¨willSetå’ŒdidSetã€‚ä»£ç ä¼šåœ¨å±žæ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶è¢«æ‰§è¡Œï¼Œåœ¨æž„é€ å™¨ä¸­å±žæ€§å€¼å‘ç”Ÿæ”¹å˜çš„æƒ…å†µé™¤å¤–ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ç±»ç¡®ä¿ä¸‰è§’å½¢çš„è¾¹é•¿å§‹ç»ˆå’Œæ­£æ–¹å½¢çš„è¾¹é•¿ç›¸åŒã€‚123456789101112131415161718192021class TriangleAndSquare &#123; var triangle: EquilaterTriangle &#123; willSet &#123; square.sideLength = newValue.sideLength &#125; &#125; var square:Square &#123; willSet &#123; triangle.sideLength = newValue.sideLength &#125; &#125; init(size:Double,name:String) &#123; square = Square(sideLength: size, name: name) triangle = EquilaterTriangle(sideLength: size, name: name) &#125;&#125;var triangleAndSquare = TriangleAndSquare(size: 10, name: "test")print(triangleAndSquare.square.sideLength)print(triangleAndSquare.triangle.sideLength)triangleAndSquare.square = Square(sideLength: 40, name: "larger square")print(triangleAndSquare.triangle.sideLength) åœ¨å¤„ç†å¯é€‰å€¼æ—¶ï¼Œä½ å¯ä»¥åœ¨å¦‚æ–¹æ³•ã€å±žæ€§å’Œä¸‹æ ‡è„šæœ¬ç­‰æ“ä½œä¹‹å‰ä½¿ç”¨?ã€‚å¦‚æžœ?å‰çš„å€¼æ˜¯nil,åˆ™?åŽé¢çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä¸”æ•´ä¸ªè¡¨è¾¾å¼ä¸ºnilã€‚å¦åˆ™ï¼Œå¯é€‰é¡¹çš„å€¼å°†è¢«å±•å¼€ï¼Œç„¶åŽ?åŽé¢çš„ä»£ç ä¼šæ ¹æ®å±•å¼€çš„å€¼æ¥æ‰§è¡Œã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼æ˜¯ä¸€ä¸ªå¯é€‰å€¼ã€‚12let optionalSquare: Square? = Square(sideLength: 2.3, name: "optional square")let sideLength = optionalSquare?.sideLength æžšä¸¾å’Œç»“æž„ä½“ä½¿ç”¨enumæ¥åˆ›å»ºæžšä¸¾ã€‚åƒç±»å’Œå…¶ä»–æ‰€æœ‰å‘½åç±»åž‹ä¸€æ ·ï¼Œæžšä¸¾ä¹ŸåŒ…å«æ–¹æ³•ã€‚123456789101112131415161718192021enum Rank: Int &#123; case ace = 1 case two,three,four,five,six,seven,eight,nine,ten case jack,queen,king func simpleDescription() -&gt; String &#123; switch self &#123; case .ace: return "ace" case .jack: return "jack" case .queen: return "queen" case .king: return "king" default: return String(self.rawValue) &#125; &#125;&#125;let ace = Rank.acelet aceRawValue = ace.rawValue é»˜è®¤æƒ…å†µä¸‹ï¼Œswift ä»Ž 0 å¼€å§‹ç»™åŽŸå§‹å€¼èµ‹å€¼ï¼Œè€ŒåŽä¾æ¬¡é€’å¢ž 1ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šä¸€ä¸ªç‰¹å®šå€¼æ¥æ”¹å˜è¿™ä¸€è¡Œè¡Œä¸ºã€‚åœ¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ï¼ŒAceçš„åŽŸå§‹å€¼è¢«æ˜¾ç¤ºèµ‹å€¼ä¸º1ï¼Œå…¶ä½™çš„åŽŸå§‹å€¼ä¼šæŒ‰ç…§é¡ºåºæ¥èµ‹å€¼ã€‚åŒæ ·çš„ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æµ®ç‚¹æ•°æ¥ä½œä¸ºæžšä¸¾çš„åŽŸå§‹å€¼ã€‚ä½¿ç”¨rawValueå±žæ€§æ¥è®¿é—®ä¸€ä¸ªæžšä¸¾æˆå‘˜çš„åŽŸå§‹å€¼ã€‚ä½¿ç”¨init?(rawValue:)åˆå§‹åŒ–æž„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰åŽŸå§‹å€¼å¾—æžšä¸¾å®žä¾‹ã€‚å¦‚æžœåœ¨Rankä¸­æœ‰ä¸Žè¯¥åŽŸå§‹å€¼ç›¸åŒ¹é…çš„æžšä¸¾å®žä¾‹åˆ™è¿”å›žè¯¥å®žä¾‹ï¼Œæ²¡æœ‰åˆ™è¿”å›žnilã€‚123if let convertedRank = Rank(rawValue: 3) &#123; let threeDescription = convertedRank.simpleDescription()&#125; æžšä¸¾æˆå‘˜çš„å€¼æ˜¯å®žé™…å€¼ï¼Œè€Œä¸æ˜¯åŽŸå§‹å€¼çš„å¦å¤–ä¸€ç§å†™æ³•ã€‚äº‹å®žä¸Šï¼Œå¦‚æžœæ²¡æœ‰ä¸€ä¸ªæœ‰æ„ä¹‰çš„åŽŸå§‹å€¼ï¼Œä½ ä¹Ÿæ²¡å¿…è¦å†æä¾›ä¸€ä¸ªã€‚1234567891011121314151617enum Suit &#123; case spades,hearts,diamonds,clubs func simpleDescription() -&gt; String &#123; switch self &#123; case .spades: return "spades" case .hearts: return "hearts" case .diamonds: return "diamonds" case .clubs: return "clubs" &#125; &#125;&#125;let hearts = Suit.heartslet haartsDescriotion = hearts.simpleDescription() æ³¨æ„åœ¨ä¸Šé¢ä¾‹å­ä¸­ç”¨äº†ä¸¤ç§æ–¹æ³•æ¥è°ƒç”¨heartsæˆå‘˜ï¼šç»™heartsæŒ‡å®šä¸€ä¸ªå¸¸é‡æ—¶ï¼Œæžšä¸¾æˆå‘˜Suit.heartséœ€è¦å…¨åè°ƒç”¨ï¼Œå› ä¸ºå¸¸é‡æ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šç±»åž‹ã€‚åœ¨switchè¯­å¥ä¸­ï¼Œæžšä¸¾æˆå‘˜å¯ä»¥é€šè¿‡ç¼©å†™çš„æ–¹å¼.heartsè¢«è°ƒç”¨ï¼Œå› ä¸ºselfçš„å€¼å·²ç»ç¡®å®šæ˜¯Suitç±»åž‹ã€‚åœ¨å€¼å¾—ç±»åž‹å·²ç»è¢«æ˜Žç¡®çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ç¼©å†™ã€‚ å¦‚æžœä¸€ä¸ªæžšä¸¾æˆå‘˜æ‹¥æœ‰åŽŸå§‹å€¼ï¼Œé‚£ä¹ˆè¿™äº›å€¼åœ¨å£°æ˜Žæ—¶å°±ä¼šè¢«ç¡®å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ªä¸åŒæžšä¸¾å®žä¾‹çš„æžšä¸¾æˆå‘˜æ€»æœ‰ä¸€ä¸ªç›¸åŒçš„åŽŸå§‹å€¼ã€‚å¦å¤–ä¸€ç§é€‰æ‹©æ˜¯ä¸ºæžšä¸¾æˆå‘˜è®¾å®šå…³è”å€¼â€”è¿™äº›å€¼ä¼šåœ¨å®žä¾‹è¢«åˆ›å»ºæ—¶ç¡®å®šï¼Œè¿™æ ·å®ƒä»¬åœ¨æ¯ä¸€ä¸ªå®žä¾‹ä¸­çš„åŽŸå§‹å€¼å°±ä¸ä¸€æ ·äº†ã€‚ä½ å¯ä»¥å°†å…³è”å€¼æƒ³è±¡æˆä¸Žæžšä¸¾å®žä¾‹å­˜å‚¨å±žæ€§ä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘åœ¨æœåŠ¡å™¨ä¸Šè¯·æ±‚æ—¥å‡ºå’Œæ—¥è½çš„æƒ…å†µã€‚æœåŠ¡å™¨è¦ä¹ˆè¿”å›žè¯·æ±‚ä¿¡æ¯ï¼Œè¦ä¹ˆè¿”å›žé”™è¯¯ä¿¡æ¯ã€‚12345678910111213enum ServerResponse &#123; case result(String,String) case failure(String)&#125;let success = ServerResponse.result("6:00 am","8:00 pm")let failure = ServerResponse.failure("fail")switch success &#123;case let .result(sunrise,sunset): print(" sunrise is at \(sunrise) and sunset is at\(sunset)")case let .failure(message): print("fail - \(message)")&#125; æ³¨æ„æ—¥å‡ºæ—¥è½æ—¶é—´æ˜¯å¦‚ä½•ä»ŽServerResponseå€¼ä¸­è¿›è¡Œæå–ï¼Œå¹¶ä¸Ž switch cases ç›¸åŒ¹é…çš„ã€‚ ä½¿ç”¨structæ¥åˆ›å»ºä¸€ä¸ªç»“æž„ä½“ã€‚ç»“æž„ä½“æä¾›äº†å¾ˆå¤šå’Œç±»ç›¸ä¼¼çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬æ–¹æ³•å’Œæž„é€ å™¨ã€‚ç±»å’Œç»“æž„ä½“æœ€é‡è¦çš„åŒºåˆ«å°±æ˜¯ç»“æž„ä½“åœ¨ä¼ é€’çš„æ—¶å€™ä¼šæ‹·è´è‡ªèº«ï¼Œè€Œç±»åˆ™ä¼šä¼ é€’å¼•ç”¨ã€‚123456789struct Card &#123; var rank: Rank var suit: Suit func simpleDescription() -&gt; String &#123; return "The \(rank.simpleDescription()) of \(suit.simpleDescription())" &#125;&#125;let threeOfSpades = Card(rank: .three, suit: .spades)let threeOfSpadesDescription = threeOfSpades.simpleDescription() åè®®å’Œæ‰©å±•ä½¿ç”¨protocolæ¥å£°æ˜Žä¸€ä¸ªåè®®ã€‚mutatingå…³é”®å­—ä¿®é¥°æ–¹æ³•æ˜¯ä¸ºäº†èƒ½åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹ struct æˆ–æ˜¯ enum çš„å˜é‡1234protocol ExampleProtocol &#123; var simpleDescription: String&#123; get &#125; mutating func adjust()&#125; ç±»ã€æžšä¸¾å’Œç»“æž„éƒ½å¯ä»¥éµå¾ªåè®®12345678910111213141516171819202122class SimpleClass: ExampleProtocol &#123; var simpleDescription: String = "a simple class" var anotherPriperty: Int = 69105 func adjust() &#123; simpleDescription += "now 100% adjusted" &#125;&#125;var a = SimpleClass()a.adjust()let aDescription = a.simpleDescriptionstruct simpleStructure: ExampleProtocol &#123; var simpleDescription: String = "a simple sturcture" mutating func adjust() &#123; simpleDescription += "(adjusted)" &#125;&#125;var b = simpleStructure()b.adjust()let bDescription = b.simpleDescription æ³¨æ„å£°æ˜ŽSimpleStructureæ—¶ä½¿ç”¨äº†å…³é”®å­—mutatingæ¥æ ‡è®°ä¸€ä¸ªå¯ä»¥ä¿®æ”¹ç»“æž„ä½“çš„æ–¹æ³•ã€‚è€Œå£°æ˜ŽSimpleClassæ—¶ï¼Œåˆ™ä¸éœ€è¦æ ‡è®°ä»»ä½•æ–¹æ³•ï¼Œå› ä¸ºä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•æ€»æ˜¯å¯ä»¥ä¿®æ”¹ç±»å±žæ€§çš„ã€‚ ä½¿ç”¨extensionå¯ä»¥ä¸ºçŽ°æœ‰çš„ç±»åž‹æ·»åŠ åŠŸèƒ½ï¼Œä¾‹å¦‚æ–°æ–¹æ³•å’Œè®¡ç®—å±žæ€§ã€‚ä½ å¯ä»¥ä½¿ç”¨æ‹“å±•å°†åè®®ä¸€è‡´æ€§æ·»åŠ åˆ°å…¶ä»–åœ°æ–¹å£°æ˜Žçš„ç±»åž‹ï¼Œç”šè‡³æ˜¯ä½ ä»Žå…¶ä»–åº“æˆ–æ¡†æž¶å¯¼å…¥çš„ç±»åž‹ã€‚123456789extension Int: ExampleProtocol &#123; var simpleDescription: String &#123; return "the number \(self)" &#125; mutating func adjust() &#123; self += 42 &#125;&#125;print(7.simpleDescription) ä½ å¯ä»¥åƒä½¿ç”¨å…¶ä»–å‘½åç±»åž‹ä¸€æ ·æ¥ä½¿ç”¨åè®®â€”ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªå…·æœ‰ä¸åŒç±»åž‹ä½†æ˜¯éƒ½éµå®ˆæŸä¸€ä¸ªåè®®å¯¹çš„å¯¹è±¡é›†åˆã€‚å½“ä½ å¤„ç†çš„ç±»åž‹ä¸ºåè®®çš„å€¼æ—¶ï¼Œåè®®å¤–å®šä¹‰çš„æ–¹æ³•æ˜¯ä¸å¯ç”¨çš„ã€‚1234let protocolValue: ExampleProtocol = aprint(protocolValue.simpleDescription)//ä¸‹é¢è¿™å¥ä¼šæŠ¥é”™print(protocolValue.anotherProperty) å°½ç®¡å˜é‡protocolValueåœ¨è¿è¡Œæ—¶ç±»åž‹ä¸ºSimpleClassï¼Œä½†ç¼–è¯‘å™¨ä¾æ—§ä¼šæŠŠå®ƒçš„ç±»åž‹å½“åšExampleProtocolã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œä½ ä¸èƒ½éšæ„è®¿é—®åœ¨åè®®å¤–çš„æ–¹æ³•æˆ–å±žæ€§ã€‚ é”™è¯¯å¤„ç†ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•éµå¾ªErroråè®®çš„ç±»åž‹æ¥è¡¨ç¤ºé”™è¯¯ã€‚12345enum PrintError: Error &#123; case outOfPaper case noToner case onFire&#125; ä½¿ç”¨throwè·‘å‡ºå¼‚å¸¸å¹¶ä¸”ç”¨throwsæ¥æ ‡è®°ä¸€ä¸ªå¯ä»¥æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°ã€‚å¦‚æžœä½ åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™ä¸ªå‡½æ•°ä¼šç«‹å³è¿”å›žå¹¶ä¸”è°ƒç”¨å¤„ç†å‡½æ•°é”™è¯¯çš„ä»£ç ã€‚123456func send(job: Int, toPrinter printerName: String) throws -&gt; String &#123; if printerName == "Never Has Toner" &#123; throw PrintError.noToner &#125; return "Job sent"&#125; è¿™é‡Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥å¤„ç†å¼‚å¸¸ã€‚ä¸€ç§æ˜¯ä½¿ç”¨do-catchã€‚åœ¨doä»£ç å—é‡Œï¼Œä½ å¯ä»¥æ˜¯ç”¨tryåœ¨æŠ›å‡ºçš„å¼‚å¸¸çš„å‡½æ•°å‰æ ‡è®°ã€‚åœ¨catchä»£ç å—é‡Œè¾¹ï¼Œå¦‚æžœä½ ä¸ç»™å®šå…¶ä»–åå­—çš„è¯ï¼Œé”™è¯¯ä¼šè‡ªåŠ¨èµ‹äºˆåå­—ä¸ºerrorã€‚123456do &#123; let printerResponse = try send(job: 1040, toPrinter: "Never Has Toner") print(printerResponse)&#125; catch&#123; print(error)&#125; ä½ å¯ä»¥æä¾›å¤šä¸ªcatchä»£ç å—æ¥å¤„ç†ç‰¹å®šçš„é”™è¯¯ã€‚ä½ å¯ä»¥åœ¨catchåŽé¢ä¸€ä¸ªä¸€ä¸ªæ¨¡å¼ï¼Œå°±åƒswitchè¯­å¥é‡Œé¢çš„caseä¸€æ ·ã€‚12345678910 do &#123; let printerResponse = try send(job: 1440, toPrinter: "Gutenberg") print(printerResponse)&#125; catch PrintError.onFire &#123; print("I'll just put this over here, with the rest of the fire.")&#125; catch let printerError as PrintError &#123; print("Printer error: \(printerError)")&#125; catch &#123; print(error)&#125; å¦å¤–ä¸€ç§å¤„ç†é”™è¯¯çš„æ–¹æ³•æ˜¯ç”¨try?åŽ»è½¬æ¢ç»“æžœä¸ºå¯é€‰é¡¹ã€‚å¦‚æžœè¿™ä¸ªå‡½æ•°æŠ›å‡ºäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªé”™è¯¯ä¼šè¢«å¿½ç•¥å¹¶ä¸”ç»“æžœä¸ºnilã€‚å¦åˆ™ï¼Œç»“æžœæ˜¯ä¸€ä¸ªåŒ…å«äº†å‡½æ•°è¿”å›žå€¼çš„å’Œé€‰é¡¹ã€‚12let printerSuccess = try? send(job: 1883, toPrinter: "Mergenthaler")let printerFailure = try? send(job: 1885, toPrinter: "Never Has Toner") ä½¿ç”¨deferæ¥å†™åœ¨å‡½æ•°è¿”å›žåŽä¹Ÿä¼šè¢«æ‰§è¡Œçš„ä»£ç å—ã€‚æ— è®ºè¿™ä¸ªå‡½æ•°æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™ä¸ªä»£ç éƒ½ä¼šè¢«æ‰§è¡Œã€‚å³ä½¿ä»–ä»¬éœ€è¦åœ¨ä¸åŒçš„æ—¶é—´æ®µæ‰§è¡Œï¼Œä½ ä»å¯ä»¥ä½¿ç”¨deferæ¥ç®€åŒ–ä»£ç ã€‚1234567891011121314var fridgeIsOpen = falselet fridgeContent = ["milk","eggs","leftovers"]func fridgeContains(_ food: String) -&gt; Bool &#123; fridgeIsOpen = true defer &#123; fridgeIsOpen = false &#125; let result = fridgeContent.contains(food) return result&#125;fridgeContains("milk")print(fridgeIsOpen) deferå¸¸ç”¨äºŽæ•°æ®åº“æ“ä½œä¸­çš„æ‰“å¼€å…³é—­æˆ–è€…æˆ‘ä»¬è¦æ‰§è¡ŒæŸäº›å¿…è¦æ“ä½œæµç¨‹æ—¶å€™deferä¼šåœ¨è¯¥å½“å‰å£°æ˜Žçš„ä½œç”¨åŸŸç»“æŸçš„æ—¶å€™æ‰§è¡Œä¼˜å…ˆçº§ï¼š å±€éƒ¨ä¼˜å…ˆã€åŒçº§è‡ªä¸‹è€Œä¸Š12345678910111213141516171819func firstProcesses(_ isOpen: Bool) &#123; //ä½œç”¨åŸŸ1 æ•´ä¸ªå‡½æ•°ä½œç”¨åŸŸ defer&#123; print("æŽ¨è¿Ÿæ“ä½œðŸ¢") &#125; print("ðŸ˜³") if isOpen == true &#123; //ä½œç”¨åŸŸ2 ifçš„ä½œç”¨åŸŸ defer&#123; print("æŽ¨è¿Ÿæ“ä½œðŸŒ") &#125; print("ðŸ˜") &#125; print(111)&#125;firstProcesses(true) æ³›åž‹æŠŠåå­—å†™åœ¨å°–æ‹¬å·é‡Œæ¥åˆ›å»ºä¸€ä¸ªæ³›åž‹æ–¹æ³•æˆ–è€…ç±»åž‹ã€‚12345678func makeArray&lt;Item&gt;(repeating item: Item,numberOfTimes: Int) -&gt; [Item] &#123; var result = [Item]() for _ in 0..&lt;numberOfTimes &#123; result.append(item) &#125; return result&#125;makeArray(repeating: "knock", numberOfTimes: 4) ä½ å¯ä»¥ä»Žå‡½æ•°çš„æ–¹æ³•ä¸­ï¼ŒåŒæ—¶è¿˜æœ‰ç±»ï¼Œæžšä¸¾ä»¥åŠç»“æž„ä½“ä¸­åˆ›å»ºæ³›åž‹ã€‚123456enum OptionalValue&lt;Wrapped&gt; &#123; case none case some(Wrapped)&#125;var possibleInteger: OptionalValue&lt;Int&gt; = .nonepossibleInteger = .some(100) åœ¨ç±»åž‹åç§°åŽç´§æŽ¥whereæ¥æ˜Žç¡®ä¸€ç³»åˆ—éœ€æ±‚â€”ä¾‹å¦‚ï¼Œéœ€æ±‚ç±»åž‹å®žçŽ°ä¸€ä¸ªåè®®ï¼Œè¦æ±‚ä¸¤ä¸ªç±»åž‹å¿…é¡»ç›¸åŒï¼Œæˆ–è€…è¦æ±‚ç±»å¿…é¡»ç»§æ‰¿æ¥è‡ªç‰¹å®šçš„çˆ¶äº²ã€‚1234567891011func anyCommonElements&lt;T: Sequence, U: Sequence&gt;(_ lhs: T,_ rhs: U) -&gt; Bool where T.Iterator.Element: Equatable, T.Iterator.Element == U.Iterator.Element &#123; for lhsItem in lhs &#123; for rhsItem in rhs &#123; if lhsItem == rhsItem &#123; return true &#125; &#125; &#125; return false&#125;anyCommonElements([1,2,3], [3])]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Swift4.2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LLVMæ˜¯ä»€ä¹ˆ( Â´ï¾ŸÏ‰ï¾Ÿ)ï¼Ÿ]]></title>
    <url>%2F2018%2F08%2F23%2FLLVM%2F</url>
    <content type="text"><![CDATA[LLVMçš„logoç”¨çš„æ˜¯dragonï¼Œä¸ºå•¥ï¼Ÿå› ä¸ºdragonè±¡å¾åŠ›é‡ï¼Œé€Ÿåº¦å’Œæ™ºæ…§ï¼ŒåŒæ—¶åˆå¸¦ç€æ—¶å°šï¼Œä¼˜é›…å’Œmodularï¼ˆå®˜æ–¹errorï¼‰ï¼Œå¹¶ä¸”ä»Ž1977å¹´èµ·ï¼Œè¯¸å¤šé¢‡å…·å½±å“åŠ›çš„ç¼–è¯‘å™¨ä¹¦ç±å°é¢ä¸Šéƒ½æœ‰é¾™ ç®€è¿°LLVM ä¸€ä¸ªå¼€æºç¼–è¯‘å™¨æž¶æž„ï¼Œç›®å‰Xcodeé‡‡ç”¨çš„å°±æ˜¯LLVMæž¶æž„ã€‚ Clang ç”±è‹¹æžœèµžåŠ©æ”¯æŒå¼€å‘çš„LLVMçš„ç¼–è¯‘å™¨å‰ç«¯ï¼Œç›®å‰æ”¯æŒC,C++,Object-Cå’ŒObject-C++.ç›¸å¯¹äºŽGCCï¼ŒClangå¿«ï¼Œå ç”¨å†…å­˜å°ï¼Œæ˜“äºŽIDEé›†æˆï¼Œä¸ŽGCCå…¼å®¹ï¼Œè¯Šæ–­å¯è¯»æ€§å¼ºå’Œæ˜“æ‹“å±•ç­‰ã€‚ GCC GNUçš„ç¼–è¯‘å™¨å¥—è£…ï¼ŒåŽŸæœ¬åªå¤„ç†Cè¯­è¨€ï¼ŒåŽæ¥æ‹“å±•å¯å¤„ç†Fortranã€Pascalã€Objective-Cã€Javaã€Adaï¼ŒGoç­‰ã€‚è®¸å¤šæ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬è®¸å¤šç±»Unixç³»ç»Ÿï¼Œå¦‚LinuxåŠBSDå®¶æ—éƒ½é‡‡ç”¨GCCä½œä¸ºæ ‡å‡†ç¼–è¯‘å™¨ã€‚è‹¹æžœè®¡ç®—æœºé¢„è£…çš„Mac OS Xæ“ä½œç³»ç»Ÿä¹Ÿé‡‡ç”¨è¿™ä¸ªç¼–è¯‘å™¨ã€‚ GNU GNUæ˜¯ä¸€ä¸ªè‡ªç”±çš„æ“ä½œç³»ç»Ÿï¼Œä½†å…¶å…·æœ‰å®Œå¤‡åŠŸèƒ½çš„å†…æ ¸å°šæœªè¢«å¼€å‘æˆåŠŸã€‚GNUçš„å†…æ ¸ï¼Œç§°ä¸ºHurdï¼Œå…¶å‘å±•å°šæœªæˆç†Ÿã€‚åœ¨å®žé™…ä½¿ç”¨ä¸Šï¼Œå¤šåŠä½¿ç”¨Linuxå†…æ ¸ã€FreeBSDç­‰æ›¿ä»£æ–¹æ¡ˆï¼Œä½œä¸ºç³»ç»Ÿæ ¸å¿ƒï¼Œå…¶ä¸­ä¸»è¦çš„æ“ä½œç³»ç»Ÿæ˜¯Linuxçš„å‘è¡Œç‰ˆã€‚ åœ¨Xcodeä¸Šä½¿ç”¨GCC Xcodeåœ¨Cå’ŒC++ä¸Šæ˜¯æ”¯æŒä½¿ç”¨GCCçš„ï¼Œå¦‚ä¸‹ï¼šå…·ä½“å‚æ•°çš„ä½¿ç”¨è¯·å‚è€ƒï¼šstackoverflow:Xcodeä¸Šçš„GNU GCC æ›´å¤šæ¦‚å¿µLLVMå…¨åï¼šLow Level Virtual Machine ç›´è¯‘ï¼šåº•å±‚è™šæ‹Ÿæœº/loÊŠ ËˆlÉ›vÉ™l ËˆvÉœrÊ§uÉ™l mÉ™ËˆÊƒin/ The LLVM Project is a collection of modular and reusable compiler and toolchain technologies. Despite its name, LLVM has little to do with traditional virtual machines. The name â€œLLVMâ€ itself is not an acronym; it is the full name of the project.- æ¥è‡ªLLVMå®˜ç½‘çš„ä»‹ç» LLVMå®˜ç½‘ LLVMé¡¹ç›®æ˜¯æ¨¡å—åŒ–å’Œå¯é‡ç”¨çš„ç¼–è¯‘å™¨å’Œå·¥å…·é“¾æŠ€æœ¯çš„é›†åˆã€‚å°½ç®¡åç§°å¦‚æ­¤ï¼Œä½†LLVMä¸Žä¼ ç»Ÿè™šæ‹Ÿæœºå‡ ä¹Žæ²¡æœ‰å…³ç³»ã€‚â€œLLVMâ€ä¸æ˜¯é¦–å­—æ¯ç¼©ç•¥è¯è€Œæ˜¯é¡¹ç›®çš„å…¨åã€‚ LLVMæ˜¯ä¸€ä¸ªè‡ªç”±è½¯ä»¶é¡¹ç›®ï¼Œå®ƒæ˜¯ä¸€ç§ç¼–è¯‘å™¨åŸºç¡€è®¾æ–½ï¼Œä»¥C++å†™æˆã€‚å®ƒæ˜¯ä¸ºäº†ä»»æ„ä¸€ç§ç¼–ç¨‹è¯­è¨€è€Œå†™æˆçš„ç¨‹åºï¼Œåˆ©ç”¨è™šæ‹ŸæŠ€æœ¯åˆ›é€ å‡ºç¼–è¯‘æ—¶æœŸã€é“¾æŽ¥æ—¶æœŸã€è¿è¡Œæ—¶æœŸä»¥åŠâ€œé—²ç½®æ—¶æœŸâ€çš„æœ€ä¼˜åŒ–ã€‚å®ƒæœ€æ—©ä»¥C/C++ä¸ºå®žçŽ°å¯¹è±¡ï¼Œè€Œç›®å‰å®ƒå·²æ”¯æŒåŒ…æ‹¬ActionScriptã€Adaã€Dè¯­è¨€ã€Fortranã€GLSLã€Haskellã€Javaå­—èŠ‚ç ã€Objective-Cã€Swiftã€Pythonã€Rubyã€Rustã€Scalaä»¥åŠC#ç­‰è¯­è¨€ã€‚ - æ¥è‡ªç»´åŸºç™¾ç§‘ LLVM on wiki ç®€å•æ¥è¯´ LLVMæ˜¯ä¸€ä¸ªå¼€æºçš„ç¼–è¯‘å™¨æž¶æž„è€Œä¸æ˜¯ç¼–è¯‘å™¨ã€‚æ˜¯ä¸€å¥—ç”¨äºŽå¼€å‘ç¼–è¯‘å™¨ã€è§£é‡Šå™¨ç­‰ç¨‹åºè¯­è¨€ç›¸å…³å·¥å…·çš„åº“ï¼Œä¸»è¦èšç„¦äºŽç¼–è¯‘å™¨åŽç«¯åŠŸèƒ½ï¼Œå¦‚ä»£ç ç”Ÿæˆã€ä»£ç ä¼˜åŒ–ã€JITç­‰ã€‚ç¼–è¯‘å™¨æ˜¯Clangï¼ŒGCCï¼ŒICCï¼ŒVC++ç­‰ã€‚ Xcodeå’ŒLLVM Xcode3ä¹‹å‰ï¼Œç”¨çš„æ˜¯GCCXcode3,GCCä»ç„¶ä¿ç•™ï¼Œä½†æ˜¯ä¹ŸæŽ¨å‡ºäº†LLVMï¼Œè‹¹æžœæŽ¨èLLVM-GCCæ··åˆç¼–è¯‘å™¨ï¼Œä½†è¿˜ä¸æ˜¯é»˜è®¤ç¼–è¯‘å™¨Xcode4,LLVM-GCCæˆä¸ºé»˜è®¤ç¼–è¯‘å™¨ï¼Œä½†GCCä»ä¿ç•™Xcode4.2,LLVM3.0æˆä¸ºé»˜è®¤ç¼–è¯‘å™¨,çº¯ç”¨GCCä¸å¤å¯èƒ½Xcode4.6,LLVMå‡çº§åˆ°4.2ç‰ˆæœ¬Xcode5,LLVM-GCCè¢«é—å¼ƒï¼Œæ–°çš„ç¼–è¯‘å™¨æ˜¯LLVM5.0ï¼Œä»ŽGCCè¿‡æ¸¡åˆ°LLVMçš„æ—¶ä»£æ­£å¼å®Œæˆ ClangClang /ËˆklÃ¦Å‹/ æ˜¯ä¸€ä¸ªCã€C++ã€Objective-Cå’ŒObjective-C++ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨å‰ç«¯ã€‚å®ƒé‡‡ç”¨äº†åº•å±‚è™šæ‹Ÿæœºï¼ˆLLVMï¼‰ä½œä¸ºå…¶åŽç«¯ï¼Œè€Œä¸”ç”±LLVM2.6å¼€å§‹ï¼Œä¸€èµ·å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚å®ƒçš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªGNUç¼–è¯‘å™¨å¥—è£…ï¼ˆGCCï¼‰çš„æ›¿ä»£å“ï¼Œæ”¯æŒäº†GNUç¼–è¯‘å™¨å¤§å¤šæ•°çš„ç¼–è¯‘è®¾ç½®ä»¥åŠéžå®˜æ–¹è¯­è¨€çš„æ‰©å±•ã€‚ä½œè€…æ˜¯å…‹é‡Œæ–¯Â·æ‹‰ç‰¹çº³ï¼ˆChris Lattnerï¼‰ï¼Œåœ¨è‹¹æžœå…¬å¸çš„èµžåŠ©æ”¯æŒä¸‹è¿›è¡Œå¼€å‘ï¼Œè€Œæºä»£ç è®¸å¯æ˜¯ä½¿ç”¨ç±»BSDçš„ä¼Šåˆ©è¯ºä¼Šå¤§å­¦åŽ„å·´çº³-é¦™æ§Ÿåˆ†æ ¡å¼€æºç è®¸å¯ã€‚Clangé¡¹ç›®åŒ…æ‹¬Clangå‰ç«¯å’ŒClangé™æ€åˆ†æžå™¨ç­‰ã€‚- æ¥è‡ªç»´åŸºç™¾ç§‘ Clang on wiki GCCGCCå®˜ç½‘GNUç¼–è¯‘å™¨å¥—è£…ï¼ˆè‹±è¯­ï¼šGNU Compiler Collectionï¼Œç¼©å†™ä¸ºGCCï¼‰ï¼ŒæŒ‡ä¸€å¥—ç¼–ç¨‹è¯­è¨€ç¼–è¯‘å™¨ï¼Œä»¥GPLåŠLGPLè®¸å¯è¯æ‰€å‘è¡Œçš„è‡ªç”±è½¯ä»¶ï¼Œä¹Ÿæ˜¯GNUé¡¹ç›®çš„å…³é”®éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯GNUå·¥å…·é“¾çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ã€‚GCCï¼ˆç‰¹åˆ«æ˜¯å…¶ä¸­çš„Cè¯­è¨€ç¼–è¯‘å™¨ï¼‰ä¹Ÿå¸¸è¢«è®¤ä¸ºæ˜¯è·¨å¹³å°ç¼–è¯‘å™¨çš„äº‹å®žæ ‡å‡†ã€‚1985å¹´ç”±ç†æŸ¥å¾·Â·é©¬ä¿®Â·æ–¯æ‰˜æ›¼å¼€å§‹å‘å±•ï¼ŒçŽ°åœ¨ç”±è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šè´Ÿè´£ç»´æŠ¤å·¥ä½œã€‚ åŽŸåä¸ºGNU Cè¯­è¨€ç¼–è¯‘å™¨ï¼ˆGNU C Compilerï¼‰ï¼Œå› ä¸ºå®ƒåŽŸæœ¬åªèƒ½å¤„ç†Cè¯­è¨€ã€‚GCCåœ¨å‘å¸ƒåŽå¾ˆå¿«åœ°å¾—åˆ°æ‰©å±•ï¼Œå˜å¾—å¯å¤„ç†C++ã€‚ä¹‹åŽä¹Ÿå˜å¾—å¯å¤„ç†Fortranã€Pascalã€Objective-Cã€Javaã€Adaï¼ŒGoä¸Žå…¶ä»–è¯­è¨€ã€‚ è®¸å¤šæ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬è®¸å¤šç±»Unixç³»ç»Ÿï¼Œå¦‚LinuxåŠBSDå®¶æ—éƒ½é‡‡ç”¨GCCä½œä¸ºæ ‡å‡†ç¼–è¯‘å™¨ã€‚è‹¹æžœè®¡ç®—æœºé¢„è£…çš„Mac OS Xæ“ä½œç³»ç»Ÿä¹Ÿé‡‡ç”¨è¿™ä¸ªç¼–è¯‘å™¨ã€‚ GCCåŽŸæœ¬ç”¨Cå¼€å‘ï¼ŒåŽæ¥å› ä¸ºLLVMã€Clangçš„å´›èµ·ï¼Œå®ƒæ›´å¿«åœ°å°†å¼€å‘è¯­è¨€è½¬æ¢ä¸ºC++ã€‚è®¸å¤šCçš„çˆ±å¥½è€…åœ¨å¯¹C++ä¸€çŸ¥åŠè§£çš„æƒ…å†µä¸‹ä¸»è§‚è®¤å®šC++çš„æ€§èƒ½ä¸€å®šä¼šè¾“ç»™Cï¼Œä½†æ˜¯Ian Lance Taylorç»™å‡ºäº†ä¸åŒçš„æ„è§ï¼Œå¹¶è¡¨æ˜ŽC++ä¸ä½†æ€§èƒ½ä¸è¾“ç»™Cï¼Œè€Œä¸”èƒ½è®¾è®¡å‡ºæ›´å¥½ï¼Œæ›´å®¹æ˜“ç»´æŠ¤çš„ç¨‹åºã€‚- æ¥è‡ªç»´åŸºç™¾ç§‘ GCC on wiki GNUGNUå®˜ç½‘GNUæ˜¯ä¸€ä¸ªè‡ªç”±çš„æ“ä½œç³»ç»Ÿï¼Œå…¶å†…å®¹è½¯ä»¶å®Œå…¨ä»¥GPLæ–¹å¼å‘å¸ƒã€‚è¿™ä¸ªæ“ä½œç³»ç»Ÿæ˜¯GNUè®¡åˆ’çš„ä¸»è¦ç›®æ ‡ï¼Œåç§°æ¥è‡ªGNUâ€™s Not Unix!çš„é€’å½’ç¼©å†™ï¼Œå› ä¸ºGNUçš„è®¾è®¡ç±»ä¼¼Unixï¼Œä½†å®ƒä¸åŒ…å«å…·è‘—ä½œæƒçš„Unixä»£ç ã€‚GNUçš„åˆ›å§‹äººï¼Œç†æŸ¥å¾·Â·é©¬ä¿®Â·æ–¯æ‰˜æ›¼ï¼Œå°†GNUè§†ä¸ºâ€œè¾¾æˆç¤¾ä¼šç›®çš„æŠ€æœ¯æ–¹æ³•â€ã€‚ ä½œä¸ºæ“ä½œç³»ç»Ÿï¼ŒGNUçš„å‘å±•ä»æœªå®Œæˆï¼Œå…¶ä¸­æœ€å¤§çš„é—®é¢˜æ˜¯å…·æœ‰å®Œå¤‡åŠŸèƒ½çš„å†…æ ¸å°šæœªè¢«å¼€å‘æˆåŠŸã€‚GNUçš„å†…æ ¸ï¼Œç§°ä¸ºHurdï¼Œæ˜¯è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šå‘å±•çš„é‡ç‚¹ï¼Œä½†æ˜¯å…¶å‘å±•å°šæœªæˆç†Ÿã€‚åœ¨å®žé™…ä½¿ç”¨ä¸Šï¼Œå¤šåŠä½¿ç”¨Linuxå†…æ ¸ã€FreeBSDç­‰æ›¿ä»£æ–¹æ¡ˆï¼Œä½œä¸ºç³»ç»Ÿæ ¸å¿ƒï¼Œå…¶ä¸­ä¸»è¦çš„æ“ä½œç³»ç»Ÿæ˜¯Linuxçš„å‘è¡Œç‰ˆã€‚Linuxæ“ä½œç³»ç»ŸåŒ…æ¶µäº†Linuxå†…æ ¸ä¸Žå…¶ä»–è‡ªç”±è½¯ä»¶é¡¹ç›®ä¸­çš„GNUç»„ä»¶å’Œè½¯ä»¶ï¼Œå¯ä»¥è¢«ç§°ä¸ºGNU/Linuxã€‚- æ¥è‡ªç»´åŸºç™¾ç§‘ GNU on wiki LLDBLLDBæ˜¯ä¸€ç§è½¯ä»¶è°ƒè¯•å™¨ã€‚å®ƒæž„å»ºä¸ºä¸€ç»„å¯é‡ç”¨çš„ç»„ä»¶ï¼Œè¢«LLVMé¡¹ç›®çš„çŽ°æœ‰åº“å¹¿æ³›ä½¿ç”¨ï¼Œä¾‹å¦‚Clangè¡¨è¾¾å¼è§£æžå™¨å’ŒLLVM åæ±‡ç¼–ç¨‹åºã€‚å°½ç®¡LLDBå¤„äºŽæ—©æœŸå¼€å‘é˜¶æ®µï¼Œä½†å®ƒå·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå¯ä»¥æ”¯æŒç”¨Cï¼ŒObjective-Cï¼ŒC ++å’ŒSwiftç¼–å†™çš„ç¨‹åºçš„åŸºæœ¬è°ƒè¯•ã€‚LLDBå¯ä»¥åœ¨macOSï¼ŒLinuxï¼ŒFreeBSDå’ŒWindowsä¸Šè¿è¡Œï¼Œå¹¶æ”¯æŒi386ï¼Œx86-64å’ŒARM æŒ‡ä»¤é›†ã€‚å®ƒç”¨ä½œXcode 5åŠæ›´é«˜ç‰ˆæœ¬çš„é»˜è®¤è°ƒè¯•å™¨ã€‚ GDBGNU Debugger é¡¾åæ€ä¹‰æ”¯æŒç¼–ç¨‹è¯­è¨€æœ‰Cã€C++ã€Pascalä»¥åŠFORTRANåœ¨è®¸å¤šçš„ç±»UNIXæ“ä½œç³»ç»Ÿä¸Šéƒ½å¯ä»¥ä½¿ç”¨ è¯æ³•åˆ†æžlexical analysis /ËˆlÉ›ksÉªkÉ™l/è¯æ³•åˆ†æžé˜¶æ®µæ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ç¬¬ä¸€ä¸ªé˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µçš„ä»»åŠ¡æ˜¯ä»Žå·¦åˆ°å³ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°è¯»å…¥æºç¨‹åºï¼Œå³å¯¹æž„æˆæºç¨‹åºçš„å­—ç¬¦æµè¿›è¡Œæ‰«æç„¶åŽæ ¹æ®æž„è¯è§„åˆ™è¯†åˆ«å•è¯(ä¹Ÿç§°å•è¯ç¬¦å·æˆ–ç¬¦å·)ã€‚è¯æ³•åˆ†æžç¨‹åºå®žçŽ°è¿™ä¸ªä»»åŠ¡ã€‚è¯æ³•åˆ†æžç¨‹åºå¯ä»¥ä½¿ç”¨lexç­‰å·¥å…·è‡ªåŠ¨ç”Ÿæˆã€‚ è¯­æ³•åˆ†æžsyntactic analysisï¼Œä¹Ÿå« parsing/sÉªnËˆtÃ¦ktÉªk É™ËˆnÃ¦lÉ™sÉ™s/ /ËˆpÉ‘ËzÉªÅ‹/è¯­æ³•åˆ†æžæ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€ä¸ªé€»è¾‘é˜¶æ®µã€‚è¯­æ³•åˆ†æžçš„ä»»åŠ¡æ˜¯åœ¨è¯æ³•åˆ†æžçš„åŸºç¡€ä¸Šå°†å•è¯åºåˆ—ç»„åˆæˆå„ç±»è¯­æ³•çŸ­è¯­ï¼Œå¦‚â€œç¨‹åºâ€ï¼Œâ€œè¯­å¥â€ï¼Œâ€œè¡¨è¾¾å¼â€ç­‰ç­‰.è¯­æ³•åˆ†æžç¨‹åºåˆ¤æ–­æºç¨‹åºåœ¨ç»“æž„ä¸Šæ˜¯å¦æ­£ç¡®.æºç¨‹åºçš„ç»“æž„ç”±ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æè¿°. è¯­æ³•åˆ†æžå™¨parseré€šå¸¸æ˜¯ä½œä¸ºç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨çš„ç»„ä»¶å‡ºçŽ°çš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œè¯­æ³•æ£€æŸ¥ã€å¹¶æž„å»ºç”±è¾“å…¥çš„å•è¯ç»„æˆçš„æ•°æ®ç»“æž„ï¼ˆä¸€èˆ¬æ˜¯è¯­æ³•åˆ†æžæ ‘ã€æŠ½è±¡è¯­æ³•æ ‘ç­‰å±‚æ¬¡åŒ–çš„æ•°æ®ç»“æž„ï¼‰ã€‚è¯­æ³•åˆ†æžå™¨é€šå¸¸ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„è¯æ³•åˆ†æžå™¨ä»Žè¾“å…¥å­—ç¬¦æµä¸­åˆ†ç¦»å‡ºä¸€ä¸ªä¸ªçš„â€œå•è¯â€ï¼Œå¹¶å°†å•è¯æµä½œä¸ºå…¶è¾“å…¥ã€‚å®žé™…å¼€å‘ä¸­ï¼Œè¯­æ³•åˆ†æžå™¨å¯ä»¥æ‰‹å·¥ç¼–å†™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·¥å…·ï¼ˆåŠï¼‰è‡ªåŠ¨ç”Ÿæˆã€‚ æºè¯­è¨€&amp;æºç¨‹åºSource language&amp;Source programè¢«ç¼–è¯‘ç¨‹åºç¿»è¯‘çš„ç¨‹åºç§°ä¸ºæºç¨‹åº,ä¹¦å†™è¯¥ç¨‹åºçš„è¯­è¨€ç§°ä¸ºæºè¯­è¨€ã€‚ ç›®æ ‡è¯­è¨€&amp;ç›®æ ‡ç¨‹åºObject language or Target language &amp; Object program or Target programç¼–è¯‘ç¨‹åºç¿»è¯‘æºç¨‹åºè€Œå¾—åˆ°çš„ç»“æžœç¨‹åºç§°ä¸ºç›®æ ‡ç¨‹åº, ä¹¦å†™è¯¥ç¨‹åºçš„è¯­è¨€ç§°ä¸ºç›®æ ‡è¯­è¨€ã€‚ ä¸­é—´è¯­è¨€ï¼ˆä¸­é—´è¡¨ç¤ºï¼‰Intermediate languageï¼ˆrepresentationï¼‰åœ¨è¿›è¡Œäº†è¯­æ³•åˆ†æžå’Œè¯­ä¹‰åˆ†æžé˜¶æ®µçš„å·¥ä½œä¹‹åŽï¼Œæœ‰çš„ç¼–è¯‘ç¨‹åºå°†æºç¨‹åºå˜æˆä¸€ç§å†…éƒ¨è¡¨ç¤ºå½¢å¼ï¼Œè¿™ç§å†…éƒ¨è¡¨ç¤ºå½¢å¼å«åšä¸­é—´è¯­è¨€æˆ–ä¸­é—´è¡¨ç¤ºæˆ–ä¸­é—´ä»£ç ã€‚æ‰€è°“â€œä¸­é—´ä»£ç â€æ˜¯ä¸€ç§ç»“æž„ç®€å•ã€å«ä¹‰æ˜Žç¡®çš„è®°å·ç³»ç»Ÿï¼Œè¿™ç§è®°å·ç³»ç»Ÿå¤æ‚æ€§ä»‹äºŽæºç¨‹åºè¯­è¨€å’Œæœºå™¨è¯­è¨€ä¹‹é—´ï¼Œå®¹æ˜“å°†å®ƒç¿»è¯‘æˆç›®æ ‡ä»£ç ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥åœ¨ä¸­é—´ä»£ç ä¸€çº§è¿›è¡Œä¸Žæœºå™¨æ— å…³çš„ä¼˜åŒ–ã€‚ æ–‡æ³•Grammars/ËˆgrÃ¦mÉ™z/æ–‡æ³•æ˜¯ç”¨äºŽæè¿°è¯­è¨€çš„è¯­æ³•ç»“æž„çš„å½¢å¼è§„åˆ™ã€‚ tokenæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯æž„æˆæºä»£ç çš„æœ€å°å•ä½ã€‚ä»Žè¾“å…¥å­—ç¬¦æµä¸­ç”Ÿæˆæ ‡è®°çš„è¿‡ç¨‹å«ä½œæ ‡è®°åŒ–ï¼ˆtokenizationï¼‰ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¯æ³•åˆ†æžå™¨è¿˜ä¼šå¯¹æ ‡è®°è¿›è¡Œåˆ†ç±»ã€‚è¯æ³•åˆ†æžå™¨é€šå¸¸ä¸ä¼šå…³å¿ƒæ ‡è®°ä¹‹é—´çš„å…³ç³»ï¼ˆå±žäºŽè¯­æ³•åˆ†æžçš„èŒƒç•´ï¼‰ï¼Œä¸¾ä¾‹æ¥è¯´ï¼šè¯æ³•åˆ†æžå™¨èƒ½å¤Ÿå°†æ‹¬å·è¯†åˆ«ä¸ºæ ‡è®°ï¼Œä½†å¹¶ä¸ä¿è¯æ‹¬å·æ˜¯å¦åŒ¹é…ã€‚ æŠ½è±¡è¯­æ³•æ ‘abstract syntax treeæˆ–è€…ç¼©å†™ä¸ºAST/ËˆÃ¦bstrÃ¦kt ËˆsÉªnËŒtÃ¦ks tri/æŠ½è±¡è¯­æ³•æ ‘ï¼Œæˆ–è€…è¯­æ³•æ ‘ï¼ˆsyntax treeï¼‰ï¼Œæ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æž„çš„æ ‘çŠ¶è¡¨çŽ°å½¢å¼ï¼Œè¿™é‡Œç‰¹æŒ‡ç¼–ç¨‹è¯­è¨€çš„æºä»£ç ã€‚å’ŒæŠ½è±¡è¯­æ³•æ ‘ç›¸å¯¹çš„æ˜¯å…·ä½“è¯­æ³•æ ‘ï¼ˆconcrete syntaxtreeï¼‰ï¼Œé€šå¸¸ç§°ä½œåˆ†æžæ ‘ï¼ˆparse treeï¼‰ã€‚ä¸€èˆ¬çš„ï¼Œåœ¨æºä»£ç çš„ç¿»è¯‘å’Œç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œè¯­æ³•åˆ†æžå™¨åˆ›å»ºå‡ºåˆ†æžæ ‘ã€‚ä¸€æ—¦ASTè¢«åˆ›å»ºå‡ºæ¥ï¼Œåœ¨åŽç»­çš„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚è¯­ä¹‰åˆ†æžé˜¶æ®µï¼Œä¼šæ·»åŠ ä¸€äº›ä¿¡æ¯ã€‚ å…·ä½“CMD+BObjective-Cä¸Žswiftéƒ½é‡‡ç”¨Clangä½œä¸ºç¼–è¯‘å™¨å‰ç«¯ï¼Œç¼–è¯‘å™¨å‰ç«¯ä¸»è¦è¿›è¡Œè¯­æ³•åˆ†æžï¼Œè¯­ä¹‰åˆ†æžï¼Œç”Ÿæˆä¸­é—´ä»£ç ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šè¿›è¡Œç±»åž‹æ£€æŸ¥ï¼Œå¦‚æžœå‘çŽ°é”™è¯¯æˆ–è€…è­¦å‘Šä¼šæ ‡æ³¨å‡ºæ¥åœ¨å“ªä¸€è¡Œã€‚ç¼–è¯‘å™¨åŽç«¯ä¼šè¿›è¡Œæœºå™¨æ— å…³çš„ä»£ç ä¼˜åŒ–ï¼Œç”Ÿæˆæœºå™¨è¯­è¨€ï¼Œå¹¶ä¸”è¿›è¡Œæœºå™¨ç›¸å…³çš„ä»£ç ä¼˜åŒ–ï¼Œæ ¹æ®ä¸åŒçš„ç³»ç»Ÿæž¶æž„ç”Ÿæˆä¸åŒçš„æœºå™¨ç ã€‚C++,Objective Céƒ½æ˜¯ç¼–è¯‘è¯­è¨€ã€‚ç¼–è¯‘è¯­è¨€åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå¿…é¡»å…ˆé€šè¿‡ç¼–è¯‘å™¨ç”Ÿæˆæœºå™¨ç ã€‚ åœ¨ä½¿ç”¨XcodeæŒ‰ä¸‹cmd+BåŽï¼Œä¼šç»è¿‡ä»¥ä¸‹æµç¨‹ï¼šé¢„å¤„ç†ï¼ˆPre-processï¼‰ï¼šä»–çš„ä¸»è¦å·¥ä½œå°±æ˜¯å°†å®æ›¿æ¢ï¼Œåˆ é™¤æ³¨é‡Šå±•å¼€å¤´æ–‡ä»¶ï¼Œç”Ÿæˆ.iæ–‡ä»¶ã€‚ è¯æ³•åˆ†æž ï¼ˆLexical Analysisï¼‰ï¼šå°†ä»£ç åˆ‡æˆä¸€ä¸ªä¸ª tokenï¼Œæ¯”å¦‚å¤§å°æ‹¬å·ï¼Œç­‰äºŽå·è¿˜æœ‰å­—ç¬¦ä¸²ç­‰ã€‚æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­å°†å­—ç¬¦åºåˆ—è½¬æ¢ä¸ºæ ‡è®°åºåˆ—çš„è¿‡ç¨‹ã€‚ è¯­æ³•åˆ†æžï¼ˆSemantic Analysisï¼‰ï¼šéªŒè¯è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œç„¶åŽå°†æ‰€æœ‰èŠ‚ç‚¹ç»„æˆæŠ½è±¡è¯­æ³•æ ‘ AST ã€‚ç”± Clang ä¸­ Parser å’Œ Sema é…åˆå®Œæˆã€‚ é™æ€åˆ†æžï¼ˆStatic Analysisï¼‰ï¼šä½¿ç”¨å®ƒæ¥è¡¨ç¤ºç”¨äºŽåˆ†æžæºä»£ç ä»¥ä¾¿è‡ªåŠ¨å‘çŽ°é”™è¯¯ã€‚ ä¸­é—´ä»£ç ç”Ÿæˆï¼ˆCode Generationï¼‰ï¼šå¼€å§‹IRä¸­é—´ä»£ç çš„ç”Ÿæˆäº†ï¼ŒCodeGen ä¼šè´Ÿè´£å°†è¯­æ³•æ ‘è‡ªé¡¶å‘ä¸‹éåŽ†é€æ­¥ç¿»è¯‘æˆ LLVM IRï¼ŒIR æ˜¯ç¼–è¯‘è¿‡ç¨‹çš„å‰ç«¯çš„è¾“å‡ºåŽç«¯çš„è¾“å…¥ã€‚ ä¼˜åŒ–ï¼ˆOptimizeï¼‰ï¼šLLVM ä¼šåŽ»åšäº›ä¼˜åŒ–å·¥ä½œï¼Œåœ¨ Xcode çš„ç¼–è¯‘è®¾ç½®é‡Œä¹Ÿå¯ä»¥è®¾ç½®ä¼˜åŒ–çº§åˆ«-01ï¼Œ-03ï¼Œ-0sï¼Œè¿˜å¯ä»¥å†™äº›è‡ªå·±çš„ Passï¼Œå®˜æ–¹æœ‰æ¯”è¾ƒå®Œæ•´çš„ Pass æ•™ç¨‹ï¼š Writing an LLVM Pass â€” LLVM 5 documentation ã€‚å¦‚æžœå¼€å¯äº† bitcode è‹¹æžœä¼šåšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œæœ‰æ–°çš„åŽç«¯æž¶æž„è¿˜æ˜¯å¯ä»¥ç”¨è¿™ä»½ä¼˜åŒ–è¿‡çš„ bitcode åŽ»ç”Ÿæˆã€‚ ç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼ˆAssembleï¼‰ï¼šç”ŸæˆTargetç›¸å…³Object(Mach-o) ã€‚ é“¾æŽ¥ï¼ˆLinkï¼‰ï¼šç”Ÿæˆ Executable å¯æ‰§è¡Œæ–‡ä»¶ã€‚ å…³äºŽæ­¤è¿‡ç¨‹çš„è¯¦ç»†æµ‹è¯•ï¼Œå‚è€ƒæŽ˜é‡‘ LLVMçš„å…·ä½“æ“ä½œè¯·å‚è€ƒå…³äºŽLLVMï¼Œè¿™äº›ä¸œè¥¿ä½ å¿…é¡»çŸ¥é“ï¼ åŸºäºŽClangPlugin å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€äº›ç¼–ç è§„èŒƒï¼Œæ¯”å¦‚ä»£ç é£Žæ ¼æ£€æŸ¥ï¼Œå‘½åæ£€æŸ¥ç­‰ç­‰Passå°±æ˜¯LLVMç³»ç»Ÿè½¬åŒ–å’Œä¼˜åŒ–çš„å·¥ä½œçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å†™ä¸€ä¸ªè¿™æ ·çš„èŠ‚ç‚¹åŽ»åšä¸€äº›è‡ªå·±çš„ä¼˜åŒ–å·¥ä½œæˆ–è€…å…¶å®ƒçš„æ“ä½œï¼Œæ¯”å¦‚ a+b æ”¹ä¸º a-(-b)å°†PassåŠ å…¥PassManagerç®¡ç†,è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æŽ¥é€šè¿‡clangçš„å‚æ•°åŽ»åŠ è½½æˆ‘ä»¬çš„Passäº†åŸºäºŽPassï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™è‡ªå·±çš„PassåŽ»æ··æ·†ä»£ç ï¼Œä»¥å¢žåŠ ä»–äººåç¼–è¯‘çš„éš¾åº¦ã€‚ æ‰€ä»¥åŸºäºŽLLVMå¯ä»¥å®Œæˆï¼š åšè¯­æ³•æ ‘åˆ†æžï¼Œå®žçŽ°è¯­è¨€è½¬æ¢OCè½¬Swiftã€JS or å…¶å®ƒè¯­è¨€ï¼Œå­—ç¬¦ä¸²åŠ å¯†ã€‚ ç¼–å†™ClangPluginï¼Œå‘½åè§„èŒƒï¼Œä»£ç è§„èŒƒï¼Œæ‰©å±•åŠŸèƒ½ã€‚ ç¼–å†™Passï¼Œä»£ç æ··æ·†ä¼˜åŒ–ã€‚ ä½¿ç”¨Clangè¿›è¡Œå¼€å‘è¯¦ç»†å‚è€ƒIBM developerWorks Clangçš„ç‰¹æ€§ç›¸æ¯”äºŽ GCCï¼ŒClang å…·æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š ç¼–è¯‘é€Ÿåº¦å¿«ï¼šåœ¨æŸäº›å¹³å°ä¸Šï¼ŒClang çš„ç¼–è¯‘é€Ÿåº¦æ˜¾è‘—çš„å¿«è¿‡ GCCã€‚ å ç”¨å†…å­˜å°ï¼šClang ç”Ÿæˆçš„ AST æ‰€å ç”¨çš„å†…å­˜æ˜¯ GCC çš„äº”åˆ†ä¹‹ä¸€å·¦å³ã€‚ æ¨¡å—åŒ–è®¾è®¡ï¼šClang é‡‡ç”¨åŸºäºŽåº“çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºŽ IDE é›†æˆåŠå…¶ä»–ç”¨é€”çš„é‡ç”¨ã€‚ è¯Šæ–­ä¿¡æ¯å¯è¯»æ€§å¼ºï¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼ŒClang åˆ›å»ºå¹¶ä¿ç•™äº†å¤§é‡è¯¦ç»†çš„å…ƒæ•°æ® (metadata)ï¼Œæœ‰åˆ©äºŽè°ƒè¯•å’Œé”™è¯¯æŠ¥å‘Šã€‚ è®¾è®¡æ¸…æ™°ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œæ˜“äºŽæ‰©å±•å¢žå¼ºã€‚ä¸Žä»£ç åŸºç¡€å¤è€çš„ GCC ç›¸æ¯”ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ã€‚ å½“å‰ Clang è¿˜å¤„åœ¨ä¸æ–­å®Œå–„è¿‡ç¨‹ä¸­ï¼Œç›¸æ¯”äºŽ GCC, Clang åœ¨ä»¥ä¸‹æ–¹é¢è¿˜éœ€è¦åŠ å¼ºï¼š æ”¯æŒæ›´å¤šè¯­è¨€ï¼šGCC é™¤äº†æ”¯æŒ C/C++/Objective-C, è¿˜æ”¯æŒ Fortran/Pascal/Java/Ada/Go å’Œå…¶ä»–è¯­è¨€ã€‚Clang ç›®å‰æ”¯æŒçš„è¯­è¨€æœ‰ C/C++/Objective-C/Objective-C++ã€‚ æ”¯æŒæ›´å¤šå¹³å°ï¼šGCC æµè¡Œçš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå·²ç»è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå¯¹å„ç§å¹³å°çš„æ”¯æŒä¹Ÿå¾ˆå®Œå¤‡ã€‚Clang ç›®å‰æ”¯æŒçš„å¹³å°æœ‰ Linux/Windows/Mac OSã€‚ ä»¥ä¸‹æ˜¯ç›®å‰GCCå’ŒClangå¯¹C++æ”¯æŒçš„æƒ…å†µï¼š æ›´å¤šå‚è€ƒC++ ç¼–è¯‘å™¨æ”¯æŒæƒ…å†µè¡¨ ä½¿ç”¨LLVMåˆ›å»ºä¸€ä¸ªç¼–è¯‘å™¨é¦–å…ˆå‚è€ƒè¿™ç¯‡æ–‡ç« æ¥å†™ä¸€ä¸ªhelloworldIBM developerWorks å…³äºŽLLVM IRçš„ç”Ÿæˆä¸Žåˆ›å»ºIBM developerWorks]]></content>
      <categories>
        <category>ç¼–è¯‘ç›¸å…³</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
        <tag>Clang</tag>
        <tag>GNU</tag>
        <tag>GCC</tag>
        <tag>Xcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Shellè„šæœ¬çš„å…¥é—¨ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F08%2F15%2FShell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[Shellè„šæœ¬èƒ½æžå¤§ç®€åŒ–é‚£äº›ç®€ç­”è€Œé‡å¤çš„å·¥ä½œï¼Œå­¦ä¼šå†™Shellï¼Œæˆ‘è§‰å¾—å¯ä»¥ã€‚ Simple BB ä¸ºäº†ç®€åŒ–å·¥ä½œé‡ï¼Œæˆ‘éœ€è¦å†™ä¸ªæ›¿æ¢åŒåèµ„æºçš„è„šæœ¬ï¼Œçœ‹äº†ä¸€å¤©çš„shellç®€å•çš„å†™ä¸‹æˆ‘çš„æ€è·¯é¦–å…ˆèŽ·å–ç”¨äºŽæ›¿æ¢çš„èµ„æºçš„è·¯å¾„,ç„¶åŽç”Ÿæˆä¸€ä¸ªä¸´æ—¶æ–‡ä»¶A,éåŽ†èŽ·å–å¯¹åº”çš„æ–‡ä»¶åï¼Œé‡å®šå‘è¾“å‡ºåˆ°Aã€‚èŽ·å–ç›®æ ‡èµ„æºçš„è·¯å¾„ï¼Œæ ¹æ®Aä¸­çš„è¡Œæ•°è¿›è¡Œå¾ªçŽ¯findæŸ¥æ‰¾ï¼Œæ‰¾åˆ°å°±ç”¨cpå‘½ä»¤æ›¿æ¢ï¼Œæœªæ‰¾åˆ°çš„é‡å®šå‘è¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶Bæœ€åŽæ‰“å°Bçš„å†…å®¹ï¼Œremoveä¸´æ—¶æ–‡ä»¶ã€‚å…¶ä¸­å¯¹æ–‡æœ¬çš„å¤„ç†ä½¿ç”¨äº†awkå‘½ä»¤ è„šæœ¬ä¸‹è½½åœ°å€åœ¨æˆ‘çš„githubä¸Š èµ„æºæ›¿æ¢è„šæœ¬ Shellä»‹ç» Shell Script ï¼ŒShellè„šæœ¬ä¸ŽWindows/Dosä¸‹çš„æ‰¹å¤„ç†ç›¸ä¼¼ï¼Œä¹Ÿå°±æ˜¯ç”¨å„ç±»å‘½ä»¤é¢„å…ˆæ”¾å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ä¸€æ¬¡æ€§æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºæ–‡ä»¶ï¼Œä¸»è¦æ˜¯æ–¹ä¾¿ç®¡ç†å‘˜è¿›è¡Œè®¾ç½®æˆ–è€…ç®¡ç†ç”¨çš„ã€‚ä½†æ˜¯å®ƒæ¯”Windowsä¸‹çš„æ‰¹å¤„ç†æ›´å¼ºå¤§ï¼Œæ¯”ç”¨å…¶ä»–ç¼–ç¨‹ç¨‹åºç¼–è¾‘çš„ç¨‹åºæ•ˆçŽ‡æ›´é«˜ï¼Œå®ƒä½¿ç”¨äº†Linux/Unixä¸‹çš„å‘½ä»¤ã€‚è€Œæˆ‘ä½¿ç”¨shellåªæ˜¯å› ä¸ºæˆ‘ç”¨çš„mac - - Shellçš„å·¥ä½œåŽŸç† Shellå¯ä»¥è¢«ç§°ä½œæ˜¯è„šæœ¬è¯­è¨€ï¼Œå› ä¸ºå®ƒæœ¬èº«æ˜¯ä¸éœ€è¦ç¼–è¯‘çš„ï¼Œè€Œæ˜¯é€šè¿‡è§£é‡Šå™¨è§£é‡Šä¹‹åŽå†ç¼–è¯‘æ‰§è¡Œï¼Œå’Œä¼ ç»Ÿè¯­è¨€ç›¸æ¯”å¤šäº†è§£é‡Šçš„è¿‡ç¨‹æ‰€ä»¥æ•ˆçŽ‡ä¼šç•¥å·®äºŽä¼ ç»Ÿçš„ç›´æŽ¥ç¼–è¯‘çš„è¯­è¨€ã€‚ Shellçš„åˆ›å»º 1.æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œè¾“å…¥ä¸€ä¸‹å†…å®¹#!/bin/bash echo &quot;Hello World&quot;2.ä¿å­˜ä¸º hello world.shåœ¨ç›®å½• A3.åœ¨ç»ˆç«¯cdåˆ°ç›®å½• A4.ç»ˆç«¯è¾“å…¥chmod +x ./hello world.sh ï¼ˆè¿™ä¸€æ­¥æ˜¯ç»™è„šæœ¬æ·»åŠ æƒé™ï¼‰5.æ‰§è¡Œè„šæœ¬ ./hello world.sh æˆ–è€… ç›´æŽ¥æŠŠ hello world.shæ‹–å…¥ç»ˆç«¯ è¿™å¾ˆç®€å•ï¼Œæ— å›¾ã€‚ Shellä¸­çš„å˜é‡å˜é‡çš„å®šä¹‰1example="a1" æˆ–è€… 1example=a1 ä½†æ˜¯example=a 1 å¹¶ä¸ç­‰åŒäºŽ example=&quot;a 1&quot;å› ä¸º&quot; &quot;ï¼ˆç©ºæ ¼ï¼‰åœ¨shellä¸­ç”¨ä½œæŒ‡ä»¤çš„é—´éš”example=a 1 å…¶å®žåªæ˜¯å°†aè´Ÿè´£ç»™example ç„¶åŽåœ¨è¾“å…¥äº†ä¸ª1 è¿™å¾ˆé‡è¦ï¼Œåœ¨å¾ˆå¤šèµ‹å€¼çš„æ—¶å€™ä¸æ³¨æ„ä¼šå¯¼è‡´èŽ·å–åˆ°çš„å˜é‡å¹¶ä¸æ˜¯ä½ æœŸæœ›çš„é‚£æ ·ï¼Œåˆ«é—®æˆ‘æ€Žä¹ˆçŸ¥é“çš„ï¼ å˜é‡çš„è®¿é—®åœ¨å˜é‡å‰åŠ ä¸Š$ 1echo $example Shellä¸­çš„å››åˆ™è¿ç®—1234$a + $b$a - $b$a \* $b$a / $b æ³¨æ„ ä¹˜æ³•çš„æ—¶å€™éœ€è¦è¿›è¡Œè½¬ä¹‰= èµ‹å€¼æ—¶ï¼Œå‰åŽæ— ç©ºæ ¼è€Œè¿ç®—ç¬¦å·å‰åŽå¿…é¡»æœ‰ç©ºæ ¼ Shellä¸­çš„å…¶ä»–è¿ç®—ç¬¦ =ã€==ã€!=ã€ï¼ã€-oã€-a 12-o æˆ–-a ä¸Ž å…³ç³»è¿ç®—ç¬¦ -eq ä¸¤ä¸ªæ•°ç›¸ç­‰è¿”å›žtrue-ne ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰è¿”å›žtrue-gt å·¦ä¾§æ•°å¤§äºŽå³ä¾§æ•°è¿”å›žtrue-It å·¦ä¾§æ•°å°äºŽå³ä¾§æ•°è¿”å›žtrue-ge å·¦ä¾§æ•°å¤§äºŽç­‰äºŽå³ä¾§æ•°è¿”å›žtrue-le å·¦ä¾§æ•°å°äºŽç­‰äºŽå³ä¾§æ•°è¿”å›žtrue å­—ç¬¦ä¸²è¿ç®—ç¬¦ = ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰è¿”å›žtrue!= ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰è¿”å›žtrue-z å­—ç¬¦ä¸²é•¿åº¦ä¸º0è¿”å›žtrue-n å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0è¿”å›žtrue-d file æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž true-r file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž true-w file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž true-x file æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž true-s file æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äºŽ0ï¼Œä¸ä¸ºç©ºè¿”å›ž true-e file æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž true Shellå­—ç¬¦ä¸²æ“ä½œ123456mtext="hello" #å®šä¹‰å­—ç¬¦ä¸²mtext2="world"mtext3=$mtext" "$mtext2 #å­—ç¬¦ä¸²çš„æ‹¼æŽ¥echo $mtext3 #è¾“å‡ºå­—ç¬¦ä¸²echo $&#123;#mtext3&#125; #è¾“å‡ºå­—ç¬¦ä¸²é•¿åº¦echo $&#123;mtext3:1:4&#125; #æˆªå–å­—ç¬¦ä¸² Shellæ•°ç»„12345678array=(1 2 3 4 5) #å®šä¹‰æ•°ç»„array2=(aa bb cc dd ee) #å®šä¹‰æ•°ç»„value=$&#123;array[3]&#125; #æ‰¾åˆ°æŸä¸€ä¸ªä¸‹æ ‡çš„æ•°ï¼Œç„¶åŽèµ‹å€¼echo $value #æ‰“å°value2=$&#123;array2[3]&#125; #æ‰¾åˆ°æŸä¸€ä¸ªä¸‹æ ‡çš„æ•°ï¼Œç„¶åŽèµ‹å€¼echo $value2 #æ‰“å°length=$&#123;#array[* ]&#125; #èŽ·å–æ•°ç»„é•¿åº¦echo $length Shellè¾“å‡º1echo Shellçš„åˆ¤æ–­12345678910111213141516171819202122232425262728a=10b=20if [ $a == $b ]thenecho "true"fiif [ $a == $b ]thenecho "true"elseecho "false"fiif [ $a == $b ]thenecho "a is equal to b"elif [ $a -gt $b ]thenecho "a is greater than b"elif [ $a -lt $b ]thenecho "a is less than b"elseecho "None of the condition met"fi Shellä¸­çš„testå‘½ä»¤12345678910 test $[num1] -eq $[num2] #åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦ç›¸ç­‰ test num1=num2 #åˆ¤æ–­ä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸ç­‰-e file æ–‡ä»¶å­˜åœ¨åˆ™è¿”å›žçœŸ-r file æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å¯è¯»åˆ™è¿”å›žçœŸ-w file æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å¯å†™åˆ™è¿”å›žçœŸ-x file æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å¯æ‰§è¡Œåˆ™è¿”å›žçœŸ-s file æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å†…å®¹ä¸ä¸ºç©ºåˆ™è¿”å›žçœŸ-d file æ–‡ä»¶ç›®å½•å­˜åœ¨åˆ™è¿”å›žçœŸ Shellä¸­çš„å¾ªçŽ¯forå¾ªçŽ¯123456789101112131415161718192021for ((i=1;i&lt;=10;i++))doecho $idonefor i in &#123;1..5&#125;doecho $idonefor i in 5 6 7 8 9doecho $idonefor FILE in $HOME/.bash*doecho $FILEdone whileå¾ªçŽ¯123456789101112while [ $COUNTER -lt 5 ]doCOUNTER=`expr $COUNTER + 1`echo $COUNTERdoneecho 'è¯·è¾“å…¥ã€‚ã€‚ã€‚'echo 'ctrl + d å³å¯åœæ­¢è¯¥ç¨‹åº'while read FILMdoecho "Yeah! great film the $FILM"done è·³å‡ºå¾ªçŽ¯123break #è·³å‡ºæ‰€æœ‰å¾ªçŽ¯break n #è·³å‡ºç¬¬nå±‚få¾ªçŽ¯continue #è·³å‡ºå½“å‰å¾ªçŽ¯ Shellä¸­çš„å‡½æ•° æ— å‚æ•°æ— è¿”å›žå€¼ 12345678910111213141516171819202122232425262728293031 sysout()&#123; echo "hello world" &#125; sysout &lt;/code&gt;&lt;/pre&gt;&gt; æ— å‚æ•°æœ‰è¿”å›žå€¼&lt;pre&gt;&lt;code&gt; test()&#123; aNum=3 anotherNum=5 return $(($aNum+$anotherNum)) &#125; test result=$? echo $result&lt;/code&gt;&lt;/pre&gt;&gt; æœ‰å‚æ•°æœ‰è¿”å›žå€¼&lt;pre&gt;&lt;code&gt; test()&#123; echo $1 #æŽ¥æ”¶ç¬¬ä¸€ä¸ªå‚æ•° echo $2 #æŽ¥æ”¶ç¬¬äºŒä¸ªå‚æ•° echo $3 #æŽ¥æ”¶ç¬¬ä¸‰ä¸ªå‚æ•° echo $# #æŽ¥æ”¶åˆ°å‚æ•°çš„ä¸ªæ•° echo $* #æŽ¥æ”¶åˆ°çš„æ‰€æœ‰å‚æ•° &#125; test aa bb cc Shellä¸­çš„é‡å®šå‘123$echo result &gt; file #å°†ç»“æžœå†™å…¥æ–‡ä»¶ï¼Œç»“æžœä¸ä¼šåœ¨æŽ§åˆ¶å°å±•ç¤ºï¼Œè€Œæ˜¯åœ¨æ–‡ä»¶ä¸­ï¼Œè¦†ç›–å†™$echo result &gt;&gt; file #å°†ç»“æžœå†™å…¥æ–‡ä»¶ï¼Œç»“æžœä¸ä¼šåœ¨æŽ§åˆ¶å°å±•ç¤ºï¼Œè€Œæ˜¯åœ¨æ–‡ä»¶ä¸­ï¼Œè¿½åŠ å†™echo input &lt; file #èŽ·å–è¾“å…¥æµ Shellä¸­çš„å˜é‡æ“ä½œ awk æŒ‡ä»¤èŽ·å–æŒ‡å®šè¡Œæ•°çš„èµ„æºåå­—1sourceNameTemp=$(awk 'NR=="'$i'" &#123;print;exit&#125;' $OutputFile) èŽ·å–å¯¹åº”æ–‡ä»¶å1temp=$&#123;temp##*/&#125; æ¸…ç©ºæ–‡ä»¶1: &gt; "$OutputFile" å¸¸ç”¨çš„Linuxå‘½ä»¤awkå‘½ä»¤ awkæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æžå·¥å…·ï¼Œç›¸å¯¹äºŽgrepçš„æŸ¥æ‰¾ï¼Œsedçš„ç¼–è¾‘ï¼Œawkåœ¨å…¶å¯¹æ•°æ®åˆ†æžå¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ï¼Œæ˜¾å¾—å°¤ä¸ºå¼ºå¤§ã€‚ç®€å•æ¥è¯´awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æžå¤„ç†ã€‚ åŸºæœ¬ç»“æž„1awk 'BEGIN&#123; commands &#125; pattern&#123; commands &#125; END&#123; commands &#125;' file ä¸€ä¸ªawkè„šæœ¬é€šå¸¸ç”±ï¼šBEGINè¯­å¥å—ã€èƒ½å¤Ÿä½¿ç”¨æ¨¡å¼åŒ¹é…çš„é€šç”¨è¯­å¥å—ã€ENDè¯­å¥å—3éƒ¨åˆ†ç»„æˆï¼Œè¿™ä¸‰ä¸ªéƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚ä»»æ„ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ä¸å‡ºçŽ°åœ¨è„šæœ¬ä¸­ï¼Œè„šæœ¬é€šå¸¸æ˜¯è¢«å•å¼•å·æˆ–åŒå¼•å·ä¸­ å·¥ä½œåŽŸç† ç¬¬ä¸€æ­¥ï¼šæ‰§è¡ŒBEGIN{ commands }è¯­å¥å—ä¸­çš„è¯­å¥ï¼›ç¬¬äºŒæ­¥ï¼šä»Žæ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥(stdin)è¯»å–ä¸€è¡Œï¼Œç„¶åŽæ‰§è¡Œpattern{ commands }è¯­å¥å—ï¼Œå®ƒé€è¡Œæ‰«ææ–‡ä»¶ï¼Œä»Žç¬¬ä¸€è¡Œåˆ°æœ€åŽä¸€è¡Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ–‡ä»¶å…¨éƒ¨è¢«è¯»å–å®Œæ¯•ã€‚ç¬¬ä¸‰æ­¥ï¼šå½“è¯»è‡³è¾“å…¥æµæœ«å°¾æ—¶ï¼Œæ‰§è¡ŒEND{ commands }è¯­å¥å—ã€‚ BEGINè¯­å¥å—åœ¨awkå¼€å§‹ä»Žè¾“å…¥æµä¸­è¯»å–è¡Œä¹‹å‰è¢«æ‰§è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„è¯­å¥å—ï¼Œæ¯”å¦‚å˜é‡åˆå§‹åŒ–ã€æ‰“å°è¾“å‡ºè¡¨æ ¼çš„è¡¨å¤´ç­‰è¯­å¥é€šå¸¸å¯ä»¥å†™åœ¨BEGINè¯­å¥å—ä¸­ã€‚ ENDè¯­å¥å—åœ¨awkä»Žè¾“å…¥æµä¸­è¯»å–å®Œæ‰€æœ‰çš„è¡Œä¹‹åŽå³è¢«æ‰§è¡Œï¼Œæ¯”å¦‚æ‰“å°æ‰€æœ‰è¡Œçš„åˆ†æžç»“æžœè¿™ç±»ä¿¡æ¯æ±‡æ€»éƒ½æ˜¯åœ¨ENDè¯­å¥å—ä¸­å®Œæˆï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰è¯­å¥å—ã€‚ patternè¯­å¥å—ä¸­çš„é€šç”¨å‘½ä»¤æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒä¹Ÿæ˜¯å¯é€‰çš„ã€‚å¦‚æžœæ²¡æœ‰æä¾›patternè¯­å¥å—ï¼Œåˆ™é»˜è®¤æ‰§è¡Œ{ print }ï¼Œå³æ‰“å°æ¯ä¸€ä¸ªè¯»å–åˆ°çš„è¡Œï¼Œawkè¯»å–çš„æ¯ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œè¯¥è¯­å¥å—ã€‚ èŽ·å–æŒ‡å®šè¡Œæ•°çš„æ–‡æœ¬1awk 'NR=="'$i'" &#123;print;exit&#125;' file èŽ·å–æ–‡ä»¶çš„è¡Œæ•°1awk '&#123;print NR&#125;' "file"|tail -n1 å…³äºŽawkçš„è¯¦ç»†ç”¨æ³•è¯·å‚è€ƒ awkå‘½ä»¤]]></content>
      <categories>
        <category>Shell</category>
      </categories>
      <tags>
        <tag>Shell</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
